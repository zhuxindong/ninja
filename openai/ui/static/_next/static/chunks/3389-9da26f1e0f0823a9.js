"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3389],{10331:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,i,r,o,a,s,u){void 0===r&&(r=[]),void 0===o&&(o=""),void 0===a&&(a=null),void 0===s&&(s=null),void 0===u&&(u=null),this.onDefaultValueFallback=null,this.name=e,this.value=JSON.parse(JSON.stringify(null!=t?t:{})),this.ruleID=null!=n?n:"",this.secondaryExposures=r,this.allocatedExperimentName=o,this.evaluationDetails=i,this.onDefaultValueFallback=a,this.groupName=s,this.idType=u}return e.prototype.get=function(e,t,n){var i,r,o=this.getValue(e,t);if(null==o)return t;var a=Array.isArray(t)?"array":typeof t,s=Array.isArray(o)?"array":typeof o;return n?n(o)?o:(null===(i=this.onDefaultValueFallback)||void 0===i||i.call(this,this,e,a,s),t):null==t||a===s?o:(null===(r=this.onDefaultValueFallback)||void 0===r||r.call(this,this,e,a,s),t)},e.prototype.getValue=function(e,t){return null==e?this.value:(null==t&&(t=null),null==this.value[e])?t:this.value[e]},e.prototype.getRuleID=function(){return this.ruleID},e.prototype.getGroupName=function(){return this.groupName},e.prototype.getIDType=function(){return this.idType},e.prototype.getName=function(){return this.name},e.prototype.getEvaluationDetails=function(){return this.evaluationDetails},e.prototype._getSecondaryExposures=function(){return this.secondaryExposures},e.prototype._getAllocatedExperimentName=function(){return this.allocatedExperimentName},e}();t.default=n},51348:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEndpoint=void 0;var a=n(51164),s=o(n(85574));t.ExceptionEndpoint="https://statsigapi.net/v1/sdk_exception";var u=function(){function e(e){this.sdkKey=e,this.seen=new Set,this.setupDiagnostics(0===Math.floor(1e4*Math.random())?30:0)}return e.prototype.setStatsigMetadata=function(e){this.statsigMetadata=e},e.prototype.swallow=function(e,t,n){void 0===n&&(n={}),this.capture(e,t,function(){},n)},e.prototype.capture=function(e,t,n,i){var r=this,o=void 0===i?{}:i,a=o.getExtraData,s=o.configName,u=null;try{u=this.beginMarker(e);var l=t(),c=!0;if(l instanceof Promise)return l.catch(function(t){return c=!1,r.onCaught(e,t,n,a)}).then(function(t){return r.endMarker(e,c,u),t});return this.endMarker(e,!0,u,s),l}catch(t){return this.endMarker(e,!1,u,s),this.onCaught(e,t,n,a)}},e.prototype.logError=function(e,n,o){i(this,void 0,void 0,function(){var i,a,s,u,l,c,d,f;return r(this,function(r){switch(r.label){case 0:if(r.trys.push([0,4,,5]),"function"!=typeof o)return[3,2];return[4,o()];case 1:return a=r.sent(),[3,3];case 2:a=null,r.label=3;case 3:if(i=a,l=(u=(s=null!=n?n:Error("[Statsig] Error was empty"))instanceof Error)?s.name:"No Name",this.seen.has(l))return[2];return this.seen.add(l),d=JSON.stringify({tag:e,exception:l,info:u?s.stack:this.getDescription(s),statsigMetadata:c=null!==(f=this.statsigMetadata)&&void 0!==f?f:{},extra:null!=i?i:{}}),[2,fetch(t.ExceptionEndpoint,{method:"POST",headers:{"STATSIG-API-KEY":this.sdkKey,"STATSIG-SDK-TYPE":String(c.sdkType),"STATSIG-SDK-VERSION":String(c.sdkVersion),"Content-Type":"application/json; charset=UTF-8"},body:d})];case 4:return r.sent(),[3,5];case 5:return[2]}})}).catch(function(){})},e.prototype.setupDiagnostics=function(e){s.default.setMaxMarkers("error_boundary",e)},e.prototype.beginMarker=function(e){var t=s.default.mark.error_boundary(e);if(!t)return null;var n=s.default.getMarkerCount("error_boundary"),i="".concat(e,"_").concat(n);return t.start({markerID:i},"error_boundary")?i:null},e.prototype.endMarker=function(e,t,n,i){var r=s.default.mark.error_boundary(e);n&&r&&r.end({markerID:n,success:t,configName:i},"error_boundary")},e.prototype.onCaught=function(e,t,n,i){if(t instanceof a.StatsigUninitializedError||t instanceof a.StatsigInvalidArgumentError)throw t;return console.error("[Statsig] An unexpected exception occurred.",t),this.logError(e,t,i),n()},e.prototype.getDescription=function(e){try{return JSON.stringify(e)}catch(e){return"[Statsig] Failed to get string for error."}},e}();t.default=u},51164:function(e,t){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigInvalidArgumentError=t.StatsigUninitializedError=void 0;var r=function(e){function t(n){var i=e.call(this,null!=n?n:"Call and wait for initialize() to finish first.")||this;return Object.setPrototypeOf(i,t.prototype),i}return i(t,e),t}(Error);t.StatsigUninitializedError=r;var o=function(e){function t(n){var i=e.call(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return i(t,e),t}(Error);t.StatsigInvalidArgumentError=o},77421:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,i,r,o,a,s,u,l){void 0===r&&(r=null),void 0===o&&(o=[]),void 0===a&&(a=[]),void 0===s&&(s=""),void 0===u&&(u=[]),void 0===l&&(l=null),this.logParameterFunction=r,this.name=e,this.value=JSON.parse(JSON.stringify(null!=t?t:{})),this.ruleID=null!=n?n:"",this.evaluationDetails=i,this.secondaryExposures=o,this.undelegatedSecondaryExposures=a,this.allocatedExperimentName=s,this.explicitParameters=u,this.groupName=l}return e._create=function(t,n,i,r,o,a,s,u,l,c){return void 0===o&&(o=null),void 0===a&&(a=[]),void 0===s&&(s=[]),void 0===u&&(u=""),void 0===l&&(l=[]),void 0===c&&(c=null),new e(t,n,i,r,o,a,s,u,l,c)},e.prototype.get=function(e,t,n){var i=this,r=this.value[e];if(null==r)return t;var o=function(){return i.logLayerParameterExposure(e),r};return n?n(r)?o():t:null==t||typeof r==typeof t&&Array.isArray(t)===Array.isArray(r)?o():t},e.prototype.getValue=function(e,t){void 0==t&&(t=null);var n=this.value[e];return null!=n&&this.logLayerParameterExposure(e),null!=n?n:t},e.prototype.getRuleID=function(){return this.ruleID},e.prototype.getGroupName=function(){return this.groupName},e.prototype.getName=function(){return this.name},e.prototype.getEvaluationDetails=function(){return this.evaluationDetails},e.prototype._getSecondaryExposures=function(){return this.secondaryExposures},e.prototype._getUndelegatedSecondaryExposures=function(){return this.undelegatedSecondaryExposures},e.prototype._getAllocatedExperimentName=function(){return this.allocatedExperimentName},e.prototype._getExplicitParameters=function(){return this.explicitParameters},e.prototype._getEvaluationDetails=function(){return this.evaluationDetails},e.prototype.logLayerParameterExposure=function(e){var t;null===(t=this.logParameterFunction)||void 0===t||t.call(this,this,e)},e}();t.default=n},27051:function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.user=null,this.value=null,this.metadata=null,this.eventName=e,this.statsigMetadata={},this.time=Date.now()}return e.prototype.getName=function(){return this.eventName},e.prototype.setValue=function(e){this.value=e},e.prototype.setMetadata=function(e){this.metadata=e},e.prototype.addStatsigMetadata=function(e,t){this.statsigMetadata[e]=t},e.prototype.setUser=function(e){this.user=n({},e),delete this.user.privateAttributes},e.prototype.setSecondaryExposures=function(e){void 0===e&&(e=[]),this.secondaryExposures=e},e.prototype.toJsonObject=function(){var e;return{eventName:this.eventName,user:this.user,value:this.value,metadata:this.metadata,time:this.time,statsigMetadata:this.statsigMetadata,secondaryExposures:null!==(e=this.secondaryExposures)&&void 0!==e?e:void 0}},e}();t.default=i},9644:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="4.38.0"},64823:function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((i=i.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(10331)),d=l(n(51348)),f=n(51164),h=l(n(77421)),p=l(n(27051)),g=l(n(58116)),v=l(n(4903)),y=l(n(46932)),m=l(n(91391)),_=a(n(142)),E=n(53585),S=l(n(90950)),b=l(n(69036)),I=l(n(85574)),w=l(n(4145)),C=n(89977),L=function(){function e(t,n,i){var r=this;if(this.appState=null,this.currentAppState=null,this.onCacheLoadedForReact=null,this.initCalled=!1,this.pendingInitPromise=null,this.optionalLoggingSetup=!1,this.prefetchedUsersByCacheKey={},this.logLayerParameterExposureForLayer=function(e,t,n){void 0===n&&(n=!1);var i="",o=e._getUndelegatedSecondaryExposures(),a=e._getExplicitParameters().includes(t);a&&(i=e._getAllocatedExperimentName(),o=e._getSecondaryExposures()),r.logger.logLayerExposure(r.getCurrentUser(),e.getName(),e.getRuleID(),o,i,t,a,e._getEvaluationDetails(),n)},(null==i?void 0:i.localMode)!==!0&&("string"!=typeof t||!t.startsWith("client-")))throw new f.StatsigInvalidArgumentError("Invalid key provided.  You must use a Client SDK Key from the Statsig console to initialize the sdk");if(this.startTime=(0,C.now)(),this.options=new m.default(i),this.logger=new v.default(this),I.default.initialize({options:this.options}),this.errorBoundary=new d.default(t),this.ready=!1,this.sdkKey=t,this.consoleLogger=new w.default(this.options.getLogLevel()),b.default.disabled=this.options.getDisableLocalStorage(),this.identity=new g.default(this.normalizeUser(null!=n?n:null),this.options.getOverrideStableID(),e.reactNativeUUID),this.network=new y.default(this),this.store=new _.default(this,this.options.getInitializeValues()),this.errorBoundary.setStatsigMetadata(this.getStatsigMetadata()),null!=this.options.getInitializeValues()){var o=this.options.getInitCompletionCallback();this.ready=!0,this.initCalled=!0,setTimeout(function(){return r.delayedSetup()},20),this.handleOptionalLogging(),o&&o((0,C.now)()-this.startTime,!0,null)}}return e.prototype.getErrorBoundary=function(){return this.errorBoundary},e.prototype.getNetwork=function(){return this.network},e.prototype.getStore=function(){return this.store},e.prototype.getLogger=function(){return this.logger},e.prototype.getOptions=function(){return this.options},e.prototype.getSDKKey=function(){var e=this;return this.errorBoundary.capture("getSDKKey",function(){var t;return null!==(t=e.sdkKey)&&void 0!==t?t:""},function(){return""})},e.prototype.getCurrentUser=function(){var e=this;return this.errorBoundary.capture("getCurrentUser",function(){return e.identity.getUser()},function(){return null})},e.prototype.getCurrentUserCacheKey=function(){var e=this;return this.errorBoundary.capture("getCurrentUserCacheKey",function(){return(0,E.getUserCacheKey)(e.getCurrentUser())},function(){return"userID:''"})},e.prototype.getStatsigMetadata=function(){var e=this;return this.errorBoundary.capture("getStatsigMetadata",function(){return e.identity.getStatsigMetadata()},function(){return{}})},e.prototype.getSDKType=function(){var e=this;return this.errorBoundary.capture("getSDKType",function(){return e.identity.getSDKType()},function(){return""})},e.prototype.getSDKVersion=function(){var e=this;return this.errorBoundary.capture("getSDKVersion",function(){return e.identity.getSDKVersion()},function(){return""})},e.prototype.getConsoleLogger=function(){return this.consoleLogger},e.prototype.delayedSetup=function(){var e=this;this.errorBoundary.swallow("delayedSetup",function(){null!=e.options.getInitializeValues()&&e.fireAndForgetPrefechUsers(),e.identity.saveStableID(),e.logger.sendSavedRequests().catch(function(t){return e.errorBoundary.logError("sendSavedRequests:delayedSetup",t)})})},e.prototype.setInitializeValues=function(e){var t=this;this.errorBoundary.capture("setInitializeValues",function(){t.store.bootstrap(e);var n=null;t.ready||(t.ready=!0,t.initCalled=!0,n=t.options.getInitCompletionCallback()),t.handleOptionalLogging(),t.logger.sendSavedRequests().catch(function(e){return t.errorBoundary.logError("sendSavedRequests:setInitializeValues",e)}),n&&n((0,C.now)()-t.startTime,!0,null)},function(){t.ready=!0,t.initCalled=!0;var e=t.options.getInitCompletionCallback();e&&e((0,C.now)()-t.startTime,!1,"Caught an exception during setInitializeValues")})},e.prototype.initializeAsync=function(){return s(this,void 0,void 0,function(){var e=this;return u(this,function(t){return[2,this.errorBoundary.capture("initializeAsync",function(){return s(e,void 0,void 0,function(){var e,t,n=this;return u(this,function(i){switch(i.label){case 0:if(null!=this.pendingInitPromise)return[2,this.pendingInitPromise];if(this.ready)return[2,Promise.resolve()];if(I.default.mark.overall.start({}),this.initCalled=!0,!S.default.asyncStorage)return[3,3];return[4,this.identity.initAsync()];case 1:return i.sent(),[4,this.store.loadFromAsyncStorage()];case 2:i.sent(),i.label=3;case 3:if(null===(t=this.onCacheLoadedForReact)||void 0===t||t.call(this),this.appState&&this.appState.addEventListener&&"function"==typeof this.appState.addEventListener&&(this.currentAppState=this.appState.currentState,this.appState.addEventListener("change",this.handleAppStateChange.bind(this))),this.options.getLocalModeEnabled())return[2,Promise.resolve()];return e=this.identity.getUser(),this.pendingInitPromise=this.fetchAndSaveValues(e,this.options.getPrefetchUsers(),this.options.getInitTimeoutMs()).then(function(){return I.default.mark.overall.end({success:!0}),{success:!0,message:null}}).catch(function(e){return n.errorBoundary.logError("initializeAsync:fetchAndSaveValues",e),I.default.mark.overall.end({success:!1}),{success:!1,message:e.message}}).then(function(e){var t=e.success,i=e.message,r=n.options.getInitCompletionCallback();r&&r((0,C.now)()-n.startTime,t,i)}).finally(function(){return s(n,void 0,void 0,function(){return u(this,function(t){return this.pendingInitPromise=null,this.ready=!0,this.delayedSetup(),this.logger.logDiagnostics(e,"initialize"),[2]})})}),this.handleOptionalLogging(),[2,this.pendingInitPromise]}})})},function(){return e.ready=!0,e.initCalled=!0,Promise.resolve()})]})})},e.prototype.prefetchUsers=function(e){return s(this,void 0,void 0,function(){var t=this;return u(this,function(n){return[2,this.errorBoundary.capture("prefetchUsers",function(){if(e&&0!=e.length)return t.fetchAndSaveValues(null,e,0)},function(){return Promise.resolve()})]})})},e.prototype.getEvaluationDetails=function(){var e=this;return this.errorBoundary.capture("getEvaluationDetails",function(){return e.store.getGlobalEvaluationDetails()},function(){return{time:Date.now(),reason:_.EvaluationReason.Error}})},e.prototype.checkGate=function(e,t){var n=this;return void 0===t&&(t=!1),this.errorBoundary.capture("checkGate",function(){var i=n.checkGateImpl(e,t);n.logGateExposureImpl(e,i);var r=n.options.getGateEvaluationCallback();return r&&r(e,i.gate.value,{withExposureLoggingDisabled:!1}),!0===i.gate.value},function(){return!1},{configName:e})},e.prototype.checkGateWithExposureLoggingDisabled=function(e,t){var n=this;return void 0===t&&(t=!1),this.errorBoundary.capture("checkGateWithExposureLoggingDisabled",function(){var i=n.checkGateImpl(e,t),r=n.options.getGateEvaluationCallback();return r&&r(e,i.gate.value,{withExposureLoggingDisabled:!0}),!0===i.gate.value},function(){return!1})},e.prototype.logGateExposure=function(e){var t=this;this.errorBoundary.swallow("logGateExposure",function(){t.logGateExposureImpl(e)})},e.prototype.getConfig=function(e,t){var n=this;return void 0===t&&(t=!1),this.errorBoundary.capture("getConfig",function(){var i=n.getConfigImpl(e,t);return n.logConfigExposureImpl(e,i),i},function(){return n.getEmptyConfig(e)},{configName:e})},e.prototype.getConfigWithExposureLoggingDisabled=function(e,t){var n=this;return void 0===t&&(t=!1),this.errorBoundary.capture("getConfig",function(){return n.getConfigImpl(e,t)},function(){return n.getEmptyConfig(e)})},e.prototype.logConfigExposure=function(e){var t=this;this.errorBoundary.swallow("logConfigExposure",function(){t.logConfigExposureImpl(e)})},e.prototype.getExperiment=function(e,t,n){var i=this;return void 0===t&&(t=!1),void 0===n&&(n=!1),this.errorBoundary.capture("getExperiment",function(){var r=i.getExperimentImpl(e,t,n);return i.logExperimentExposureImpl(e,t,r),r},function(){return i.getEmptyConfig(e)},{configName:e})},e.prototype.getExperimentWithExposureLoggingDisabled=function(e,t,n){var i=this;return void 0===t&&(t=!1),void 0===n&&(n=!1),this.errorBoundary.capture("getExperimentWithExposureLoggingDisabled",function(){return i.getExperimentImpl(e,t,n)},function(){return i.getEmptyConfig(e)})},e.prototype.logExperimentExposure=function(e,t){var n=this;this.errorBoundary.swallow("logExperimentExposure",function(){n.logExperimentExposureImpl(e,t)})},e.prototype.getLayer=function(e,t){var n=this;return void 0===t&&(t=!1),this.errorBoundary.capture("getLayer",function(){return n.getLayerImpl(n.logLayerParameterExposureForLayer,e,t)},function(){return h.default._create(e,{},"",n.getEvalutionDetailsForError())},{configName:e})},e.prototype.getLayerWithExposureLoggingDisabled=function(e,t){var n=this;return void 0===t&&(t=!1),this.errorBoundary.capture("getLayerWithExposureLoggingDisabled",function(){return n.getLayerImpl(null,e,t)},function(){return h.default._create(e,{},"",n.getEvalutionDetailsForError())})},e.prototype.logLayerParameterExposure=function(e,t,n){var i=this;void 0===n&&(n=!1),this.errorBoundary.swallow("logLayerParameterExposure",function(){var r=i.getLayerImpl(null,e,n);i.logLayerParameterExposureForLayer(r,t,!0)})},e.prototype.logEvent=function(e,t,n){var i=this;void 0===t&&(t=null),void 0===n&&(n=null),this.errorBoundary.swallow("logEvent",function(){if(!i.logger||!i.sdkKey)throw new f.StatsigUninitializedError("Must initialize() before logging events.");if("string"!=typeof e||0===e.length){i.consoleLogger.error("Event not logged. No valid eventName passed.");return}i.shouldTrimParam(e,64)&&(i.consoleLogger.info("eventName is too long, trimming to 64 characters."),e=e.substring(0,64)),"string"==typeof t&&i.shouldTrimParam(t,64)&&(i.consoleLogger.info("value is too long, trimming to 64."),t=t.substring(0,64)),i.shouldTrimParam(n,2048)&&(i.consoleLogger.info("metadata is too big. Dropping the metadata."),n={error:"not logged due to size too large"});var r=new p.default(e);r.setValue(t),r.setMetadata(n),r.setUser(i.getCurrentUser()),i.logger.log(r)})},e.prototype.updateUserWithValues=function(e,t){var n,i=this;return this.errorBoundary.capture("updateUserWithValues",function(){var r=Date.now();if(!i.initializeCalled())throw new f.StatsigUninitializedError("Call initialize() first.");return n=function(e,t){var n=i.options.getUpdateUserCompletionCallback();null==n||n(Date.now()-r,e,t)},i.identity.updateUser(i.normalizeUser(e)),i.store.bootstrap(t),n(!0,null),!0},function(){return null==n||n(!1,"Failed to update user. An unexpected error occured."),!1})},e.prototype.updateUser=function(e){return s(this,void 0,void 0,function(){var t,n=this;return u(this,function(i){return[2,this.errorBoundary.capture("updateUser",function(){return s(n,void 0,void 0,function(){var n,i,r,o,a,s=this;return u(this,function(u){switch(u.label){case 0:if(n=Date.now(),!this.initializeCalled())throw new f.StatsigUninitializedError("Call initialize() first.");if(t=function(e,t){var i=s.options.getUpdateUserCompletionCallback();null==i||i(Date.now()-n,e,t)},this.identity.updateUser(this.normalizeUser(e)),i=this.getCurrentUserCacheKey(),r=!!this.prefetchedUsersByCacheKey[i],o=this.store.updateUser(r),I.default.clearContext("error_boundary"),this.logger.resetDedupeKeys(),null!=o&&(r||this.isCacheValidForFetchMode(o)))return t(!0,null),[2,Promise.resolve(!0)];if(!(null!=this.pendingInitPromise))return[3,2];return[4,this.pendingInitPromise];case 1:u.sent(),u.label=2;case 2:if(this.options.getLocalModeEnabled())return t(!0,null),[2,Promise.resolve(!0)];return a=this.identity.getUser(),this.pendingInitPromise=this.fetchAndSaveValues(a).finally(function(){s.pendingInitPromise=null}),[2,this.pendingInitPromise.then(function(){return t(!0,null),Promise.resolve(!0)}).catch(function(e){return t(!1,"Failed to update user: ".concat(e)),Promise.resolve(!1)})]}})})},function(){return null==t||t(!1,"Failed to update user. An unexpected error occured."),Promise.resolve(!1)})]})})},e.prototype.shutdown=function(){var e=this;this.errorBoundary.swallow("shutdown",function(){e.logger.shutdown(),e.appState&&e.appState.removeEventListener&&"function"==typeof e.appState.removeEventListener&&e.appState.removeEventListener("change",e.handleAppStateChange.bind(e)),b.default.cleanup()})},e.prototype.overrideGate=function(e,t){var n=this;this.errorBoundary.swallow("overrideGate",function(){n.ensureStoreLoaded(),n.store.overrideGate(e,t)})},e.prototype.overrideConfig=function(e,t){var n=this;this.errorBoundary.swallow("overrideConfig",function(){n.ensureStoreLoaded(),n.store.overrideConfig(e,t)})},e.prototype.overrideLayer=function(e,t){var n=this;this.errorBoundary.swallow("overrideLayer",function(){n.ensureStoreLoaded(),n.store.overrideLayer(e,t)})},e.prototype.removeGateOverride=function(e){var t=this;this.errorBoundary.swallow("removeGateOverride",function(){t.ensureStoreLoaded(),t.store.removeGateOverride(e)})},e.prototype.removeConfigOverride=function(e){var t=this;this.errorBoundary.swallow("removeConfigOverride",function(){t.ensureStoreLoaded(),t.store.removeConfigOverride(e)})},e.prototype.removeLayerOverride=function(e){var t=this;this.errorBoundary.swallow("removeLayerOverride",function(){t.ensureStoreLoaded(),t.store.removeLayerOverride(e)})},e.prototype.removeOverride=function(e){var t=this;this.errorBoundary.swallow("removeOverride",function(){t.ensureStoreLoaded(),t.store.removeGateOverride(e)})},e.prototype.getOverrides=function(){var e=this;return this.errorBoundary.capture("getOverrides",function(){return e.ensureStoreLoaded(),e.store.getAllOverrides().gates},function(){return{}})},e.prototype.getAllOverrides=function(){var e=this;return this.errorBoundary.capture("getAllOverrides",function(){return e.ensureStoreLoaded(),e.store.getAllOverrides()},function(){return{gates:{},configs:{},layers:{}}})},e.prototype.getStableID=function(){var e=this;return this.errorBoundary.capture("getStableID",function(){return e.identity.getStatsigMetadata().stableID},function(){return""})},e.prototype.initializeCalled=function(){return this.initCalled},e.prototype.setSDKPackageInfo=function(e){null!=e&&(this.identity.setSDKPackageInfo(e),this.errorBoundary.setStatsigMetadata(this.getStatsigMetadata()))},e.setAsyncStorage=function(e){null!=e&&(S.default.asyncStorage=e)},e.prototype.setOnCacheLoadedReactCallback=function(e){this.onCacheLoadedForReact=null!=e?e:null},e.setReactNativeUUID=function(t){null!=t&&(e.reactNativeUUID=t)},e.prototype.setAppState=function(e){null!=e&&(this.appState=e)},e.prototype.setNativeModules=function(e){null!=e&&this.identity.setNativeModules(e)},e.prototype.setPlatform=function(e){null!=e&&this.identity.setPlatform(e)},e.prototype.setRNDeviceInfo=function(e){null!=e&&this.identity.setRNDeviceInfo(e)},e.prototype.setExpoConstants=function(e){null!=e&&this.identity.setExpoConstants(e)},e.prototype.setExpoDevice=function(e){null!=e&&this.identity.setExpoDevice(e)},e.prototype.isCacheValidForFetchMode=function(e){return"cache-or-network"===this.options.getFetchMode()&&e>this.startTime},e.prototype.handleOptionalLogging=function(){var e=this,t=this.options.getDisableErrorLogging(),n=this.options.getDisableAutoMetricsLogging();if((!t||!n)&&!this.optionalLoggingSetup&&"undefined"!=typeof window&&window&&window.addEventListener){var i=this.identity.getUser();if(t||window.addEventListener("error",function(t){var n,r=t.error;if(null!=r&&"object"==typeof r)try{r=JSON.stringify(r)}catch(e){r="Failed to stringify Error"}e.logger.logAppError(i,null!==(n=t.message)&&void 0!==n?n:"",{filename:t.filename,lineno:t.lineno,colno:t.colno,error_obj:r})}),!n){if("undefined"==typeof document||!document||"undefined"==typeof setTimeout||!setTimeout)return;var r=function(){setTimeout(function(){e.logger.logAppMetrics(i)},1e3)};"complete"===document.readyState?r():window.addEventListener("load",function(){return r()})}this.optionalLoggingSetup=!0}},e.prototype.handleAppStateChange=function(e){var t,n=this;"active"===this.currentAppState&&e.match(/inactive|background/)?this.logger.flush(!0):(null===(t=this.currentAppState)||void 0===t?void 0:t.match(/inactive|background/))&&"active"===e&&this.logger.sendSavedRequests().catch(function(e){return n.errorBoundary.logError("sendSavedRequests:handleAppStateChange",e)}),this.currentAppState=e},e.prototype.shouldTrimParam=function(e,t){return null!=e&&("string"==typeof e?e.length>t:"object"==typeof e?JSON.stringify(e).length>t:"number"==typeof e&&e.toString().length>t)},e.prototype.normalizePrefetchUsers=function(e){var t=this;return null==e?[]:e.map(function(e){return t.normalizeUser(e)})},e.prototype.normalizeUser=function(e){var t={};try{t=JSON.parse(JSON.stringify(e))}catch(e){throw new f.StatsigInvalidArgumentError("User object must be convertable to JSON string.")}return t=this.trimUserObjIfNeeded(t),null!=this.options.getEnvironment()&&(t.statsigEnvironment=this.options.getEnvironment()),t},e.prototype.trimUserObjIfNeeded=function(e){var t,n;return null==e?{}:(this.shouldTrimParam(null!==(t=e.userID)&&void 0!==t?t:null,64)&&(this.consoleLogger.info("User ID is too large, trimming to 64characters"),e.userID=null===(n=e.userID)||void 0===n?void 0:n.toString().substring(0,64)),this.shouldTrimParam(e,2048)&&(e.custom={},this.shouldTrimParam(e,2048)?(this.consoleLogger.info("User object is too large, only keeping the user ID."),e={userID:e.userID}):this.consoleLogger.info("User object is too large, dropping the custom property.")),e)},e.prototype.ensureStoreLoaded=function(){if(!this.store.isLoaded())throw new f.StatsigUninitializedError("Call and wait for initialize() to finish first.")},e.prototype.getEvalutionDetailsForError=function(){return{time:Date.now(),reason:_.EvaluationReason.Error}},e.prototype.fetchAndSaveValues=function(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=this.options.getInitTimeoutMs()),s(this,void 0,void 0,function(){var r,o,a=this;return u(this,function(l){return t.length>5&&this.consoleLogger.info("Cannot prefetch more than 5 users."),r=this.normalizePrefetchUsers(t).slice(0,5).reduce(function(e,t){return e[(0,E.getUserCacheKey)(t)]=t,e},{}),o=null,0===t.length&&(o=this.store.getLastUpdateTime(e)),[2,this.network.fetchValues(e,o,n,t.length>0?r:void 0).eventually(function(t){(null==t?void 0:t.has_updates)&&a.store.saveWithoutUpdatingClientState(e,t).catch(function(e){return a.errorBoundary.logError("fetchAndSaveValues:eventually",e)})}).then(function(t){return s(a,void 0,void 0,function(){var n=this;return u(this,function(o){return[2,this.errorBoundary.swallow("fetchAndSaveValues",function(){return s(n,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:if(I.default.mark.intialize.process.start({}),!(null==t?void 0:t.has_updates))return[3,2];return[4,this.store.save(e,t)];case 1:return n.sent(),[3,3];case 2:(null==t?void 0:t.is_no_content)&&this.store.setEvaluationReason(_.EvaluationReason.NetworkNotModified),n.label=3;case 3:return this.prefetchedUsersByCacheKey=i(i({},this.prefetchedUsersByCacheKey),r),I.default.mark.intialize.process.end({success:!0}),[2]}})})})]})})})]})})},e.prototype.checkGateImpl=function(e,t){if(this.ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new f.StatsigInvalidArgumentError("Must pass a valid string as the gateName.");return this.store.checkGate(e,t)},e.prototype.logGateExposureImpl=function(e,t){var n=null!=t?t:this.checkGateImpl(e,!1),i=n.gate;this.logger.logGateExposure(this.getCurrentUser(),e,i.value,i.rule_id,i.secondary_exposures,n.evaluationDetails,!t)},e.prototype.getConfigImpl=function(e,t){if(this.ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new f.StatsigInvalidArgumentError("Must pass a valid string as the configName.");return this.store.getConfig(e,t)},e.prototype.logConfigExposureImpl=function(e,t){var n=null!=t?t:this.getConfigImpl(e,!1);this.logger.logConfigExposure(this.getCurrentUser(),e,n.getRuleID(),n._getSecondaryExposures(),n.getEvaluationDetails(),!t)},e.prototype.getExperimentImpl=function(e,t,n){if(this.ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new f.StatsigInvalidArgumentError("Must pass a valid string as the experimentName.");return this.store.getExperiment(e,t,n)},e.prototype.logExperimentExposureImpl=function(e,t,n){var i=null!=n?n:this.getExperimentImpl(e,t,!1);this.logger.logConfigExposure(this.getCurrentUser(),e,i.getRuleID(),i._getSecondaryExposures(),i.getEvaluationDetails(),!n)},e.prototype.getLayerImpl=function(e,t,n){if(this.ensureStoreLoaded(),"string"!=typeof t||0===t.length)throw new f.StatsigInvalidArgumentError("Must pass a valid string as the layerName.");return this.store.getLayer(e,t,n)},e.prototype.getEmptyConfig=function(e){return new c.default(e,{},"",this.getEvalutionDetailsForError())},e.prototype.fireAndForgetPrefechUsers=function(){this.prefetchUsers(this.options.getPrefetchUsers()).catch(function(){})},e}();t.default=L},58116:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(68093),s=n(9718),u=o(n(90950)),l=o(n(69036)),c=n(9644),d=function(){function e(e,t,n){this.platform=null,this.nativeModules=null,this.sdkType="js-client",this.reactNativeUUID=n,this.user=e,this.sdkVersion=c.version,this.statsigMetadata={sdkType:this.sdkType,sdkVersion:this.sdkVersion};var i,r=t;u.default.asyncStorage||(r=null!==(i=null!=r?r:l.default.getItem(s.STATSIG_STABLE_ID_KEY))&&void 0!==i?i:this.getUUID()),r&&(this.statsigMetadata.stableID=r)}return e.prototype.saveStableID=function(){null!=this.statsigMetadata.stableID&&l.default.setItem(s.STATSIG_STABLE_ID_KEY,this.statsigMetadata.stableID)},e.prototype.initAsync=function(){return i(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:if(e=this.statsigMetadata.stableID)return[3,2];return[4,u.default.getItemAsync(s.STATSIG_STABLE_ID_KEY)];case 1:e=null!=(e=t.sent())?e:this.getUUID(),t.label=2;case 2:return u.default.setItemAsync(s.STATSIG_STABLE_ID_KEY,e).catch(function(){}),this.statsigMetadata.stableID=e,[2,this]}})})},e.prototype.getSDKType=function(){return this.sdkType},e.prototype.getSDKVersion=function(){return this.sdkVersion},e.prototype.getStatsigMetadata=function(){return this.statsigMetadata.sdkType=this.sdkType,this.statsigMetadata.sdkVersion=this.sdkVersion,this.statsigMetadata},e.prototype.getUser=function(){return this.user},e.prototype.updateUser=function(e){this.user=e},e.prototype.setSDKPackageInfo=function(e){this.sdkType=e.sdkType,this.sdkVersion=e.sdkVersion},e.prototype.setPlatform=function(e){this.platform=e,this.updateMetadataFromNativeModules()},e.prototype.setNativeModules=function(e){this.nativeModules=e,this.updateMetadataFromNativeModules()},e.prototype.updateMetadataFromNativeModules=function(){var e,t,n,i,r,o,a;null!=this.platform&&null!=this.nativeModules&&((null===(e=this.platform.OS)||void 0===e?void 0:e.toLocaleLowerCase())==="android"?this.statsigMetadata.locale=null===(t=this.nativeModules.I18nManager)||void 0===t?void 0:t.localeIdentifier:(null===(n=this.platform.OS)||void 0===n?void 0:n.toLocaleLowerCase())==="ios"&&(this.statsigMetadata.locale=(null===(r=null===(i=this.nativeModules.SettingsManager)||void 0===i?void 0:i.settings)||void 0===r?void 0:r.AppleLocale)||(null===(a=null===(o=this.nativeModules.SettingsManager)||void 0===o?void 0:o.settings)||void 0===a?void 0:a.AppleLanguages[0])))},e.prototype.getUUID=function(){var e,t;return null!==(t=null===(e=this.reactNativeUUID)||void 0===e?void 0:e.v4())&&void 0!==t?t:(0,a.v4)()},e.prototype.setRNDeviceInfo=function(e){var t,n,i,r,o;this.statsigMetadata.appVersion=null!==(t=e.getVersion())&&void 0!==t?t:"",this.statsigMetadata.systemVersion=null!==(n=e.getSystemVersion())&&void 0!==n?n:"",this.statsigMetadata.systemName=null!==(i=e.getSystemName())&&void 0!==i?i:"",this.statsigMetadata.deviceModelName=null!==(r=e.getModel())&&void 0!==r?r:"",this.statsigMetadata.deviceModel=null!==(o=e.getDeviceId())&&void 0!==o?o:""},e.prototype.setExpoConstants=function(e){var t,n;this.statsigMetadata.appVersion=null!==(n=null!==(t=e.nativeAppVersion)&&void 0!==t?t:e.nativeBuildVersion)&&void 0!==n?n:""},e.prototype.setExpoDevice=function(e){var t,n,i,r;this.statsigMetadata.systemVersion=null!==(t=e.osVersion)&&void 0!==t?t:"",this.statsigMetadata.systemName=null!==(n=e.osName)&&void 0!==n?n:"",this.statsigMetadata.deviceModelName=null!==(i=e.modelName)&&void 0!==i?i:"",this.statsigMetadata.deviceModel=null!==(r=e.modelId)&&void 0!==r?r:""},e}();t.default=d},4903:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(27051)),s=n(46932),u=n(9718),l=o(n(85574)),c=o(n(90950)),d=o(n(69036)),f="statsig::",h=f+"config_exposure",p=f+"layer_exposure",g=f+"gate_exposure",v=f+"log_event_failed",y=f+"app_error",m=f+"app_metrics::page_load_time",_=f+"app_metrics::dom_interactive_time",E=f+"diagnostics",S=f+"default_value_type_mismatch",b=function(){function e(e){this.failedLogEventCount=0,this.sdkInternal=e,this.queue=[],this.flushInterval=null,this.loggedErrors=new Set,this.failedLogEvents=[],this.exposureDedupeKeys={},this.failedLogEventCount=0,this.init()}return e.prototype.init=function(){var e=this;"undefined"!=typeof window&&"function"==typeof window.addEventListener&&(window.addEventListener("blur",function(){return e.flush(!0)}),window.addEventListener("beforeunload",function(){return e.flush(!0)}),window.addEventListener("load",function(){setTimeout(function(){return e.flush()},100),setTimeout(function(){return e.flush()},1e3)})),"undefined"!=typeof document&&"function"==typeof document.addEventListener&&document.addEventListener("visibilitychange",function(){e.flush("visible"!==document.visibilityState)}),!this.sdkInternal.getOptions().getIgnoreWindowUndefined()&&("undefined"==typeof window||null==window)||this.sdkInternal.getOptions().getLocalModeEnabled()||(this.flushInterval=setInterval(function(){e.flush()},this.sdkInternal.getOptions().getLoggingIntervalMillis()),setTimeout(function(){return e.flush()},100),setTimeout(function(){return e.flush()},1e3))},e.prototype.log=function(e){try{if(!this.sdkInternal.getOptions().getDisableCurrentPageLogging()&&"undefined"!=typeof window&&null!=window&&"object"==typeof window.location&&"string"==typeof window.location.href){var t=window.location.href.split(/[?#]/);(null==t?void 0:t.length)>0&&e.addStatsigMetadata("currentPage",t[0])}}catch(e){}this.queue.push(e.toJsonObject()),this.queue.length>=this.sdkInternal.getOptions().getLoggingBufferMaxSize()&&this.flush()},e.prototype.resetDedupeKeys=function(){this.exposureDedupeKeys={}},e.prototype.shouldLogExposure=function(e){var t=this.exposureDedupeKeys[e],n=Date.now();return null==t?(this.exposureDedupeKeys[e]=n,!0):!(t>=n-6e5)&&(this.exposureDedupeKeys[e]=n,!0)},e.prototype.logGateExposure=function(e,t,n,i,r,o,s){var u=t+String(n)+i+o.reason;if(this.shouldLogExposure(u)){var l={gate:t,gateValue:String(n),ruleID:i,reason:o.reason,time:o.time};s&&(l.isManualExposure="true");var c=new a.default(g);c.setUser(e),c.setMetadata(l),c.setSecondaryExposures(r),this.log(c)}},e.prototype.logConfigExposure=function(e,t,n,i,r,o){var s=t+n+r.reason;if(this.shouldLogExposure(s)){var u={config:t,ruleID:n,reason:r.reason,time:r.time};o&&(u.isManualExposure="true");var l=new a.default(h);l.setUser(e),l.setMetadata(u),l.setSecondaryExposures(i),this.log(l)}},e.prototype.logLayerExposure=function(e,t,n,i,r,o,s,u,l){var c=[t,n,r,o,String(s),u.reason].join("|");if(this.shouldLogExposure(c)){var d={config:t,ruleID:n,allocatedExperiment:r,parameterName:o,isExplicitParameter:String(s),reason:u.reason,time:u.time};l&&(d.isManualExposure="true");var f=new a.default(p);f.setUser(e),f.setMetadata(d),f.setSecondaryExposures(i),this.log(f)}},e.prototype.logConfigDefaultValueFallback=function(e,t,n){var i=new a.default(S);i.setUser(e),i.setValue(t),i.setMetadata(n),this.log(i),this.loggedErrors.add(t),this.sdkInternal.getConsoleLogger().error(t)},e.prototype.logAppError=function(e,t,n){var i=t.substring(0,128);if(!this.loggedErrors.has(i)&&!(this.loggedErrors.size>10)){var r=new a.default(y);r.setUser(e),r.setValue(i),r.setMetadata(n),this.log(r),this.loggedErrors.add(i)}},e.prototype.logDiagnostics=function(e,t){if(!l.default.disabled){var n=l.default.getMarkers(t);l.default.clearContext(t);var i=this.makeDiagnosticsEvent(e,{markers:n,context:t});this.log(i)}},e.prototype.logAppMetrics=function(e){if("function"==typeof(null===(t=null==window?void 0:window.performance)||void 0===t?void 0:t.getEntriesByType)){var t,n=window.performance.getEntriesByType("navigation");if(n&&!(n.length<1)){var i=n[0],r={statsig_dimensions:{url:i.name}},o=new a.default(m);if(o.setUser(e),o.setValue(i.duration),o.setMetadata(r),this.log(o),i instanceof PerformanceNavigationTiming){var s=new a.default(_);s.setUser(e),s.setValue(i.domInteractive-i.startTime),s.setMetadata(r),this.log(s)}}}},e.prototype.shutdown=function(){this.flushInterval&&(clearInterval(this.flushInterval),this.flushInterval=null),this.flush(!0)},e.prototype.flush=function(e){var t=this;if(void 0===e&&(e=!1),this.addErrorBoundaryDiagnostics(),0!==this.queue.length){var n=this.queue;if(this.queue=[],e&&!this.sdkInternal.getNetwork().supportsKeepalive()&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.sendBeacon)!=null){this.sdkInternal.getNetwork().sendLogBeacon({events:n,statsigMetadata:this.sdkInternal.getStatsigMetadata()})||(this.queue=n.concat(this.queue),this.queue.length>0&&(this.addFailedRequest({events:this.queue,statsigMetadata:this.sdkInternal.getStatsigMetadata(),time:Date.now()}),this.queue=[]),this.saveFailedRequests());return}this.sdkInternal.getNetwork().postToEndpoint(s.StatsigEndpoint.Rgstr,{events:n,statsigMetadata:this.sdkInternal.getStatsigMetadata()},{retryOptions:{retryLimit:3,backoff:1e3},useKeepalive:e}).then(function(e){if(!e.ok)throw e}).catch(function(e){"function"==typeof e.text?e.text().then(function(o){t.sdkInternal.getErrorBoundary().logError(v,e,function(){return i(t,void 0,void 0,function(){return r(this,function(e){return[2,{eventCount:n.length,error:o}]})})})}):t.sdkInternal.getErrorBoundary().logError(v,e,function(){return i(t,void 0,void 0,function(){return r(this,function(t){return[2,{eventCount:n.length,error:e.message}]})})}),t.newFailedRequest(v,n)}).finally(function(){return i(t,void 0,void 0,function(){return r(this,function(t){return e&&(this.queue.length>0&&(this.addFailedRequest({events:this.queue,statsigMetadata:this.sdkInternal.getStatsigMetadata(),time:Date.now()}),this.queue=[]),this.saveFailedRequests()),[2]})})})}},e.prototype.saveFailedRequests=function(){var e=this;if(this.failedLogEvents.length>0){var t=JSON.stringify(this.failedLogEvents);if(t.length>1024e3){this.clearLocalStorageRequests();return}if(c.default.asyncStorage){c.default.setItemAsync(u.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY,t).catch(function(t){return e.sdkInternal.getErrorBoundary().logError("saveFailedRequests",t)});return}d.default.setItem(u.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY,t)}},e.prototype.sendSavedRequests=function(){return i(this,void 0,void 0,function(){var e,t,n,i,o,a,l,f,h=this;return r(this,function(r){switch(r.label){case 0:if(t=!1,!c.default.asyncStorage)return[3,2];return[4,c.default.getItemAsync(u.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY)];case 1:return e=r.sent(),[3,3];case 2:e=d.default.getItem(u.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY),r.label=3;case 3:if(null==e)return this.clearLocalStorageRequests(),[2];e.length>1024e3&&(t=!0),n=[];try{for(a=0,n=JSON.parse(e),i=function(e){null!=e&&e.events&&Array.isArray(e.events)&&o.sdkInternal.getNetwork().postToEndpoint(s.StatsigEndpoint.Rgstr,e).then(function(e){if(!e.ok)throw Error(e.status+"")}).catch(function(){t||h.addFailedRequest(e)})},o=this,l=n;a<l.length;a++)f=l[a],i(f)}catch(e){this.sdkInternal.getErrorBoundary().logError("sendSavedRequests",e)}finally{this.clearLocalStorageRequests()}return[2]}})})},e.prototype.addFailedRequest=function(e){if(!(e.time<Date.now()-432e6)&&!(this.failedLogEvents.length>100)){var t=e.events.length;this.failedLogEventCount+t>1e3||(this.failedLogEvents.push(e),this.failedLogEventCount+=t)}},e.prototype.clearLocalStorageRequests=function(){var e=this;c.default.asyncStorage?c.default.removeItemAsync(u.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY).catch(function(t){return e.sdkInternal.getErrorBoundary().logError("clearLocalStorageRequests",t)}):d.default.removeItem(u.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY)},e.prototype.newFailedRequest=function(e,t){this.loggedErrors.has(e)||(this.loggedErrors.add(e),this.failedLogEvents.push({events:t,statsigMetadata:this.sdkInternal.getStatsigMetadata(),time:Date.now()}),this.saveFailedRequests())},e.prototype.makeDiagnosticsEvent=function(e,t){var n=new a.default(E);return n.setUser(e),n.setMetadata(t),n},e.prototype.addErrorBoundaryDiagnostics=function(){if(0!==l.default.getMarkerCount("error_boundary")){var e=this.makeDiagnosticsEvent(this.sdkInternal.getCurrentUser(),{context:"error_boundary",markers:l.default.getMarkers("error_boundary")});this.queue.push(e),l.default.clearContext("error_boundary")}},e}();t.default=b},46932:function(e,t,n){var i,r,o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigEndpoint=void 0;var u=s(n(5602)),l=s(n(85574));(i=r=t.StatsigEndpoint||(t.StatsigEndpoint={})).Initialize="initialize",i.Rgstr="rgstr",i.LogEventBeacon="log_event_beacon";var c=function(){function e(e){this.retryCodes={408:!0,500:!0,502:!0,503:!0,504:!0,522:!0,524:!0,599:!0},this.canUseKeepalive=!1,this.sdkInternal=e,this.leakyBucket={},this.init()}return e.prototype.init=function(){if(!this.sdkInternal.getOptions().getDisableNetworkKeepalive())try{this.canUseKeepalive="keepalive"in new Request("")}catch(e){this.canUseKeepalive=!1}},e.prototype.fetchValues=function(e,t,n,i){var o={user:e,prefetchUsers:i,statsigMetadata:this.sdkInternal.getStatsigMetadata(),sinceTime:null!=t?t:void 0,acceptsDeltas:!0,hash:"djb2"};return this.postWithTimeout(r.Initialize,o,{timeout:n,retries:3,diagnostics:l.default.mark.intialize.networkRequest})},e.prototype.postWithTimeout=function(e,t,n){var i=this,r=null!=n?n:{},s=r.timeout,u=void 0===s?0:s,l=r.retries,c=void 0===l?0:l,d=r.backoff,f=void 0===d?1e3:d,h=r.diagnostics,p=!1,g=null,v=null,y=[];0!=u&&(g=new Promise(function(e,t){setTimeout(function(){p=!0,t(Error("The initialization timeout of ".concat(u,"ms has been hit before the network request has completed.")))},u)}));var m=this.postToEndpoint(e,t,{retryOptions:{retryLimit:c,backoff:f},diagnostics:void 0===h?null:h}).then(function(n){if(!n.ok)return Promise.reject(Error("Request to ".concat(e," failed with status ").concat(n.status)));if("object"!=typeof n.data){var r=Error("Request to ".concat(e," received invalid response type. Expected 'object' but got '").concat(typeof n.data,"'"));return i.sdkInternal.getErrorBoundary().logError("postWithTimeoutInvalidRes",r,function(){return o(i,void 0,void 0,function(){return a(this,function(i){return[2,this.getErrorData(e,t,c,f,n)]})})}),Promise.reject(r)}var s=n.data;return i.sdkInternal.getErrorBoundary().capture("postWithTimeout",function(){return o(i,void 0,void 0,function(){return a(this,function(e){return v=s,p&&(y.forEach(function(e){return e(s)}),y=[]),[2,Promise.resolve(s)]})})},function(){return Promise.resolve({})},{getExtraData:function(){return o(i,void 0,void 0,function(){return a(this,function(i){return[2,this.getErrorData(e,t,c,f,n)]})})}})}).catch(function(e){return Promise.reject(e)}),_=g?Promise.race([m,g]):m;return _.eventually=function(e){return p&&v?e(v):y.push(e),_},_},e.prototype.sendLogBeacon=function(e){if(this.sdkInternal.getOptions().getLocalModeEnabled())return!0;var t=new URL(this.sdkInternal.getOptions().getEventLoggingApi()+r.LogEventBeacon);t.searchParams.append("k",this.sdkInternal.getSDKKey()),e.clientTime=Date.now()+"";var n=null;try{n=JSON.stringify(e)}catch(e){return!1}return navigator.sendBeacon(t.toString(),n)},e.prototype.postToEndpoint=function(e,t,n){var i;return o(this,void 0,void 0,function(){var s,l,c,d,f,h,p,g,v,y,m,_,E,S,b,I,w,C,L,D=this;return a(this,function(k){if(c=void 0!==(l=(s=null!=n?n:{}).useKeepalive)&&l,f=void 0===(d=s.diagnostics)?null:d,g=void 0===(p=(h=null!==(i=null==n?void 0:n.retryOptions)&&void 0!==i?i:{}).retryLimit)?0:p,y=void 0===(v=h.attempt)?1:v,_=void 0===(m=h.backoff)?1e3:m,this.sdkInternal.getOptions().getLocalModeEnabled())return[2,Promise.reject("no network requests in localMode")];if("function"!=typeof fetch)return[2,Promise.reject("fetch is not defined")];if("undefined"==typeof window&&!this.sdkInternal.getOptions().getIgnoreWindowUndefined())return[2,Promise.reject("window is not defined")];if(E=([r.Initialize].includes(e)?this.sdkInternal.getOptions().getApi():this.sdkInternal.getOptions().getEventLoggingApi())+e,null!=(S=this.leakyBucket[E])&&S>=30)return[2,Promise.reject(Error("Request failed because you are making the same request too frequently."))];if(null==S?this.leakyBucket[E]=1:this.leakyBucket[E]=S+1,b=e===r.Initialize&&u.default.encodeInitializeCall&&"undefined"!=typeof window&&"function"==typeof(null==window?void 0:window.btoa),I=JSON.stringify(t),b)try{I=window.btoa(I).split("").reverse().join("")}catch(e){b=!1}return w={method:"POST",body:I,headers:{"Content-type":"application/json; charset=UTF-8","STATSIG-API-KEY":this.sdkInternal.getSDKKey(),"STATSIG-CLIENT-TIME":Date.now()+"","STATSIG-SDK-TYPE":this.sdkInternal.getSDKType(),"STATSIG-SDK-VERSION":this.sdkInternal.getSDKVersion(),"STATSIG-ENCODED":b?"1":"0"}},this.canUseKeepalive&&c&&(w.keepalive=!0),null==f||f.start({attempt:y}),L=!0,[2,fetch(E,w).then(function(e){return o(D,void 0,void 0,function(){var t,n,i;return a(this,function(r){switch(r.label){case 0:if(!(C=e).ok)return[3,4];if(t=C,204!==C.status)return[3,1];return t.data={has_updates:!1,is_no_content:!0},[3,3];case 1:return[4,C.text()];case 2:n=r.sent(),t.data=JSON.parse(n),r.label=3;case 3:return null==f||f.end(this.getDiagnosticsData(C,g,y)),[2,Promise.resolve(t)];case 4:return this.retryCodes[C.status]||(L=!1),[4,C.text()];case 5:return i=r.sent(),[2,Promise.reject(Error("".concat(C.status,": ").concat(i)))]}})})}).catch(function(n){return(null==f||f.end(D.getDiagnosticsData(C,g,y)),y<g&&L)?new Promise(function(n,i){setTimeout(function(){D.leakyBucket[E]=Math.max(D.leakyBucket[E]-1,0),D.postToEndpoint(e,t,{retryOptions:{retryLimit:g,attempt:y+1,backoff:2*_},useKeepalive:c,diagnostics:f}).then(n).catch(i)},_)}):Promise.reject(n)}).finally(function(){D.leakyBucket[E]=Math.max(D.leakyBucket[E]-1,0)})]})})},e.prototype.supportsKeepalive=function(){return this.canUseKeepalive},e.prototype.getDiagnosticsData=function(e,t,n){var i,r;return{success:(null==e?void 0:e.ok)===!0,statusCode:null==e?void 0:e.status,sdkRegion:null===(i=null==e?void 0:e.headers)||void 0===i?void 0:i.get("x-statsig-region"),isDelta:(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.is_delta)===!0,attempt:n,retryLimit:t}},e.prototype.getErrorData=function(e,t,n,i,r){var s;return o(this,void 0,void 0,function(){var o;return a(this,function(a){try{return o={},(null!==(s=r.headers)&&void 0!==s?s:[]).forEach(function(e,t){o[t]=e}),[2,{responseInfo:{headers:o,status:r.status,statusText:r.statusText,type:r.type,url:r.url,redirected:r.redirected,bodySnippet:r.data?JSON.stringify(r.data).slice(0,500):null},requestInfo:{endpointName:e,bodySnippet:JSON.stringify(t).slice(0,500),retries:n,backoff:i}}]}catch(e){return[2,{statusText:"statsig::failed to extract extra data"}]}return[2]})})},e}();t.default=c},5602:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.encodeInitializeCall=!0,e}();t.default=n},91391:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=t.INIT_TIMEOUT_DEFAULT_MS=void 0,t.INIT_TIMEOUT_DEFAULT_MS=3e3,(i=n=t.LogLevel||(t.LogLevel={}))[i.NONE=0]="NONE",i[i.INFO=1]="INFO",i[i.DEBUG=2]="DEBUG";var n,i,r=function(){function e(e){null==e&&(e={});var i,r,o,a,s,u,l,c,d,f,h,p,g,v,y,m,_,E,S,b,I,w=null!==(i=e.api)&&void 0!==i?i:"https://featuregates.org/v1/";this.api=w.endsWith("/")?w:w+"/",this.disableCurrentPageLogging=null!==(r=e.disableCurrentPageLogging)&&void 0!==r&&r,this.environment=null!==(o=e.environment)&&void 0!==o?o:null,this.loggingIntervalMillis=this.normalizeNumberInput(e.loggingIntervalMillis,{default:1e4,min:1e3,max:6e4}),this.loggingBufferMaxSize=this.normalizeNumberInput(e.loggingBufferMaxSize,{default:100,min:2,max:500}),this.disableNetworkKeepalive=null!==(a=e.disableNetworkKeepalive)&&void 0!==a&&a,this.overrideStableID=null!==(s=e.overrideStableID)&&void 0!==s?s:null,this.localMode=null!==(u=e.localMode)&&void 0!==u&&u,this.initTimeoutMs=e.initTimeoutMs&&e.initTimeoutMs>=0?e.initTimeoutMs:t.INIT_TIMEOUT_DEFAULT_MS,this.disableErrorLogging=null!==(l=e.disableErrorLogging)&&void 0!==l&&l,this.disableAutoMetricsLogging=null!==(c=e.disableAutoMetricsLogging)&&void 0!==c&&c,this.initializeValues=null!==(d=e.initializeValues)&&void 0!==d?d:null;var C=null!==(h=null!==(f=e.eventLoggingApi)&&void 0!==f?f:e.api)&&void 0!==h?h:"https://events.statsigapi.net/v1/";this.eventLoggingApi=C.endsWith("/")?C:C+"/",this.prefetchUsers=null!==(p=e.prefetchUsers)&&void 0!==p?p:[],this.disableLocalStorage=null!==(g=e.disableLocalStorage)&&void 0!==g&&g,this.initCompletionCallback=null!==(v=e.initCompletionCallback)&&void 0!==v?v:null,this.updateCompletionCallback=null!==(y=e.updateUserCompletionCallback)&&void 0!==y?y:null,this.disableDiagnosticsLogging=null!==(m=e.disableDiagnosticsLogging)&&void 0!==m&&m,this.logLevel=null!==(_=null==e?void 0:e.logLevel)&&void 0!==_?_:n.NONE,this.ignoreWindowUndefined=null!==(E=null==e?void 0:e.ignoreWindowUndefined)&&void 0!==E&&E,this.fetchMode=null!==(S=e.fetchMode)&&void 0!==S?S:"network-only",this.disableLocalOverrides=null!==(b=null==e?void 0:e.disableLocalOverrides)&&void 0!==b&&b,this.gateEvaluationCallback=null!==(I=null==e?void 0:e.gateEvaluationCallback)&&void 0!==I?I:null}return e.prototype.getApi=function(){return this.api},e.prototype.getEnvironment=function(){return this.environment},e.prototype.getDisableCurrentPageLogging=function(){return this.disableCurrentPageLogging},e.prototype.getLoggingIntervalMillis=function(){return this.loggingIntervalMillis},e.prototype.getLoggingBufferMaxSize=function(){return this.loggingBufferMaxSize},e.prototype.getDisableNetworkKeepalive=function(){return this.disableNetworkKeepalive},e.prototype.getOverrideStableID=function(){return this.overrideStableID},e.prototype.getLocalModeEnabled=function(){return this.localMode},e.prototype.getInitTimeoutMs=function(){return this.initTimeoutMs},e.prototype.getDisableErrorLogging=function(){return this.disableErrorLogging},e.prototype.getDisableAutoMetricsLogging=function(){return this.disableAutoMetricsLogging},e.prototype.getInitializeValues=function(){return this.initializeValues},e.prototype.getEventLoggingApi=function(){return this.eventLoggingApi},e.prototype.getPrefetchUsers=function(){return this.prefetchUsers},e.prototype.getDisableLocalStorage=function(){return this.disableLocalStorage},e.prototype.getInitCompletionCallback=function(){return this.initCompletionCallback},e.prototype.getUpdateUserCompletionCallback=function(){return this.updateCompletionCallback},e.prototype.getDisableDiagnosticsLogging=function(){return this.disableDiagnosticsLogging},e.prototype.getLogLevel=function(){return this.logLevel},e.prototype.getIgnoreWindowUndefined=function(){return this.ignoreWindowUndefined},e.prototype.getFetchMode=function(){return this.fetchMode},e.prototype.getDisableLocalOverrides=function(){return this.disableLocalOverrides},e.prototype.getGateEvaluationCallback=function(){return this.gateEvaluationCallback},e.prototype.normalizeNumberInput=function(e,t){return null==e?t.default:Math.max(Math.min(e,t.max),t.min)},e}();t.default=r},142:function(e,t,n){var i,r,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluationReason=void 0;var l=u(n(10331)),c=u(n(77421)),d=u(n(6333)),f=n(9718),h=n(53585),p=u(n(90950)),g=u(n(69036));(i=r=t.EvaluationReason||(t.EvaluationReason={})).Network="Network",i.Bootstrap="Bootstrap",i.InvalidBootstrap="InvalidBootstrap",i.Cache="Cache",i.Prefetch="Prefetch",i.Sticky="Sticky",i.LocalOverride="LocalOverride",i.Unrecognized="Unrecognized",i.Uninitialized="Uninitialized",i.Error="Error",i.NetworkNotModified="NetworkNotModified";var v=function(){function e(e,t){this.overrides={gates:{},configs:{},layers:{}},this.sdkInternal=e,this.userCacheKey=this.sdkInternal.getCurrentUserCacheKey(),this.values={},this.userValues={feature_gates:{},dynamic_configs:{},sticky_experiments:{},layer_configs:{},has_updates:!1,time:0,evaluation_time:0},this.stickyDeviceExperiments={},this.loaded=!1,this.reason=r.Uninitialized,t?this.bootstrap(t):this.loadFromLocalStorage()}return e.prototype.updateUser=function(e){return this.userCacheKey=this.sdkInternal.getCurrentUserCacheKey(),this.setUserValueFromCache(e)},e.prototype.loadFromAsyncStorage=function(){return a(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return e=this.parseCachedValues,[4,p.default.getItemAsync(f.INTERNAL_STORE_KEY)];case 1:return t=[n.sent()],[4,p.default.getItemAsync(f.STICKY_DEVICE_EXPERIMENTS_KEY)];case 2:return e.apply(this,t.concat([n.sent()])),this.userCacheKey=this.sdkInternal.getCurrentUserCacheKey(),this.loaded=!0,[2]}})})},e.prototype.bootstrap=function(e){var t,n,i,o=this.sdkInternal.getCurrentUserCacheKey(),a=this.sdkInternal.getCurrentUser(),s=d.default.isValid(a,e)?r.Bootstrap:r.InvalidBootstrap;this.loaded=!0;try{this.userValues.feature_gates=null!==(t=e.feature_gates)&&void 0!==t?t:{},this.userValues.dynamic_configs=null!==(n=e.dynamic_configs)&&void 0!==n?n:{},this.userValues.layer_configs=null!==(i=e.layer_configs)&&void 0!==i?i:{},this.userValues.evaluation_time=Date.now(),this.userValues.time=Date.now(),this.userValues.hash_used=e.hash_used,this.values[o]=this.userValues,this.reason=s,this.loadOverrides()}catch(e){return}},e.prototype.loadFromLocalStorage=function(){p.default.asyncStorage||(this.parseCachedValues(g.default.getItem(f.INTERNAL_STORE_KEY),g.default.getItem(f.STICKY_DEVICE_EXPERIMENTS_KEY)),this.loaded=!0)},e.prototype.isLoaded=function(){return this.loaded},e.prototype.getLastUpdateTime=function(e){var t=(0,h.sha256Hash)(JSON.stringify(e));return this.userValues.user_hash==t?this.userValues.time:null},e.prototype.parseCachedValues=function(e,t){try{this.values=e?JSON.parse(e):this.values,this.setUserValueFromCache()}catch(e){this.removeFromStorage(f.INTERNAL_STORE_KEY)}try{var n=t?JSON.parse(t):null;n&&(this.stickyDeviceExperiments=n)}catch(e){this.removeFromStorage(f.STICKY_DEVICE_EXPERIMENTS_KEY)}this.loadOverrides()},e.prototype.setUserValueFromCache=function(e){void 0===e&&(e=!1);var t,n=this.values[this.userCacheKey];return null==n?(this.resetUserValues(),this.reason=r.Uninitialized,null):(this.userValues=n,this.reason=e?r.Prefetch:r.Cache,null!==(t=n.evaluation_time)&&void 0!==t?t:0)},e.prototype.removeFromStorage=function(e){var t=this;p.default.removeItemAsync(e).catch(function(e){return t.sdkInternal.getErrorBoundary().logError("removeFromStorage",e)}),g.default.removeItem(e)},e.prototype.loadOverrides=function(){if(!this.sdkInternal.getOptions().getDisableLocalOverrides()){var e=g.default.getItem(f.OVERRIDES_STORE_KEY);if(null!=e)try{this.overrides=JSON.parse(e)}catch(e){g.default.removeItem(f.OVERRIDES_STORE_KEY)}}},e.prototype.setEvaluationReason=function(e){this.reason=e},e.prototype.save=function(e,t){return a(this,void 0,void 0,function(){var n,i,o;return s(this,function(a){switch(a.label){case 0:if(n=(0,h.getUserCacheKey)(e),t.is_delta)return[2,this.saveInitDeltas(e,t)];return this.mergeInitializeResponseIntoUserMap(t,this.values,n,e,function(e){return e}),(i=this.values[n])&&n&&n==this.userCacheKey&&(this.userValues=i,this.reason=r.Network),o=this,[4,this.writeValuesToStorage(this.values)];case 1:return o.values=a.sent(),[2]}})})},e.prototype.saveWithoutUpdatingClientState=function(e,t){return a(this,void 0,void 0,function(){var n,i;return s(this,function(r){switch(r.label){case 0:return n=(0,h.getUserCacheKey)(e),i=JSON.parse(JSON.stringify(this.values)),this.mergeInitializeResponseIntoUserMap(t,i,n,e,function(e){return e}),[4,this.writeValuesToStorage(i)];case 1:return r.sent(),[2]}})})},e.prototype.saveInitDeltas=function(e,t){var n;return a(this,void 0,void 0,function(){var i,o,a,u=this;return s(this,function(s){switch(s.label){case 0:return i=(0,h.getUserCacheKey)(e),this.mergeInitializeResponseIntoUserMap(t,this.values,i,e,function(e,t){var n,i=null!==(n=u.values[t])&&void 0!==n?n:u.getDefaultUserCacheValues();return u.mergeUserCacheValues(i,e)}),Object.keys(null!==(n=t.prefetched_user_values)&&void 0!==n?n:{}).forEach(function(e){var n=u.values[e];n&&y(t,n)}),(o=this.values[i])&&i==this.userCacheKey&&(y(t,o),this.userValues=o,this.reason=r.Network),a=this,[4,this.writeValuesToStorage(this.values)];case 1:return a.values=s.sent(),[2]}})})},e.prototype.mergeInitializeResponseIntoUserMap=function(e,t,n,i,r){if(e.prefetched_user_values)for(var o=Object.keys(e.prefetched_user_values),a=0;a<o.length;a++){var s=o[a],u=e.prefetched_user_values[s];t[s]=r(this.convertAPIDataToCacheValues(u,s),s)}if(n){var l=this.convertAPIDataToCacheValues(e,n);if(e.has_updates&&e.time){var c=(0,h.sha256Hash)(JSON.stringify(i));l.user_hash=c}t[n]=r(l,n)}},e.prototype.getDefaultUserCacheValues=function(){return{feature_gates:{},layer_configs:{},dynamic_configs:{},sticky_experiments:{},time:0,evaluation_time:0}},e.prototype.mergeUserCacheValues=function(e,t){return{feature_gates:o(o({},e.feature_gates),t.feature_gates),layer_configs:o(o({},e.layer_configs),t.layer_configs),dynamic_configs:o(o({},e.dynamic_configs),t.dynamic_configs),sticky_experiments:e.sticky_experiments,time:t.time,evaluation_time:t.evaluation_time}},e.prototype.writeValuesToStorage=function(e){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:if(e=Object.fromEntries(Object.entries(e).sort(function(e,t){var n,i,r=e[1],o=t[1];return null==r?1:null==o?-1:(null!==(n=null==o?void 0:o.evaluation_time)&&void 0!==n?n:null==o?void 0:o.time)-(null!==(i=null==r?void 0:r.evaluation_time)&&void 0!==i?i:null==r?void 0:r.time)}).slice(0,10)),!p.default.asyncStorage)return[3,2];return[4,p.default.setItemAsync(f.INTERNAL_STORE_KEY,JSON.stringify(e))];case 1:return t.sent(),[3,3];case 2:g.default.setItem(f.INTERNAL_STORE_KEY,JSON.stringify(e)),t.label=3;case 3:return[2,e]}})})},e.prototype.checkGate=function(e,t){void 0===t&&(t=!1);var n,i,o=this.getHashedSpecName(e),a={name:e,value:!1,rule_id:"",secondary_exposures:[]};if(t||null==this.overrides.gates[e]){var s=null===(n=this.userValues)||void 0===n?void 0:n.feature_gates[o];s&&(a=s),i=this.getEvaluationDetails(null!=s)}else a={name:e,value:this.overrides.gates[e],rule_id:"override",secondary_exposures:[]},i=this.getEvaluationDetails(!1,r.LocalOverride);return{evaluationDetails:i,gate:a}},e.prototype.getConfig=function(e,t){void 0===t&&(t=!1);var n,i,o,a,s=this.getHashedSpecName(e);if(t||null==this.overrides.configs[e]){if((null===(n=this.userValues)||void 0===n?void 0:n.dynamic_configs[s])!=null){var u=null===(i=this.userValues)||void 0===i?void 0:i.dynamic_configs[s];a=this.getEvaluationDetails(!0),o=this.createDynamicConfig(e,u,a)}else a=this.getEvaluationDetails(!1),o=new l.default(e,{},"",a)}else a=this.getEvaluationDetails(!1,r.LocalOverride),o=new l.default(e,this.overrides.configs[e],"override",a,[],"",this.makeOnConfigDefaultValueFallback(this.sdkInternal.getCurrentUser()));return o},e.prototype.getExperiment=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),n||null==this.overrides.configs[e]){var i,o,a=this.getLatestValue(e,"dynamic_configs");o=this.getEvaluationDetails(null!=a);var s=this.getPossiblyStickyValue(e,a,t,!1,o);i=this.createDynamicConfig(e,s,o)}else o=this.getEvaluationDetails(!1,r.LocalOverride),i=new l.default(e,this.overrides.configs[e],"override",o);return i},e.prototype.getLayer=function(e,t,n){if(null!=this.overrides.layers[t]){var i,o,a,s,u=this.getEvaluationDetails(!1,r.LocalOverride);return c.default._create(t,null!==(i=this.overrides.layers[t])&&void 0!==i?i:{},"override",u,e)}var l=this.getLatestValue(t,"layer_configs"),d=this.getEvaluationDetails(null!=l),f=this.getPossiblyStickyValue(t,l,n,!0,d);return c.default._create(t,null!==(o=null==f?void 0:f.value)&&void 0!==o?o:{},null!==(a=null==f?void 0:f.rule_id)&&void 0!==a?a:"",d,e,null==f?void 0:f.secondary_exposures,null==f?void 0:f.undelegated_secondary_exposures,null!==(s=null==f?void 0:f.allocated_experiment_name)&&void 0!==s?s:"",null==f?void 0:f.explicit_parameters,null==f?void 0:f.group_name)},e.prototype.overrideConfig=function(e,t){try{JSON.stringify(t)}catch(e){console.warn("Failed to stringify given config override.  Dropping",e);return}this.overrides.configs[e]=t,this.saveOverrides()},e.prototype.overrideLayer=function(e,t){try{JSON.stringify(t)}catch(e){console.warn("Failed to stringify given layer override.  Dropping",e);return}this.overrides.layers[e]=t,this.saveOverrides()},e.prototype.overrideGate=function(e,t){this.overrides.gates[e]=t,this.saveOverrides()},e.prototype.removeGateOverride=function(e){null==e?this.overrides.gates={}:delete this.overrides.gates[e],this.saveOverrides()},e.prototype.removeConfigOverride=function(e){null==e?this.overrides.configs={}:delete this.overrides.configs[e],this.saveOverrides()},e.prototype.removeLayerOverride=function(e){null==e?this.overrides.layers={}:delete this.overrides.layers[e],this.saveOverrides()},e.prototype.getAllOverrides=function(){return this.overrides},e.prototype.saveOverrides=function(){try{g.default.setItem(f.OVERRIDES_STORE_KEY,JSON.stringify(this.overrides))}catch(e){console.warn("Failed to persist gate/config overrides")}},e.prototype.getLatestValue=function(e,t){var n,i,r,o,a,s=this.getHashedSpecName(e);return null!==(r=null===(i=null===(n=this.userValues)||void 0===n?void 0:n[t])||void 0===i?void 0:i[s])&&void 0!==r?r:null===(a=null===(o=this.userValues)||void 0===o?void 0:o[t])||void 0===a?void 0:a[e]},e.prototype.getPossiblyStickyValue=function(e,t,n,i,o){if(!n)return this.removeStickyValue(e),t;var a,s=this.getStickyValue(e);if(!s)return this.attemptToSaveStickyValue(e,t),t;var u=null;return(null==(u=i?this.getLatestValue(null!==(a=null==s?void 0:s.allocated_experiment_name)&&void 0!==a?a:"","dynamic_configs"):t)?void 0:u.is_experiment_active)==!0?(o.reason=r.Sticky,s):((null==t?void 0:t.is_experiment_active)==!0?this.attemptToSaveStickyValue(e,t):this.removeStickyValue(e),t)},e.prototype.createDynamicConfig=function(e,t,n){var i,r,o;return new l.default(e,null!==(i=null==t?void 0:t.value)&&void 0!==i?i:{},null!==(r=null==t?void 0:t.rule_id)&&void 0!==r?r:"",n,null==t?void 0:t.secondary_exposures,null!==(o=null==t?void 0:t.allocated_experiment_name)&&void 0!==o?o:"",this.makeOnConfigDefaultValueFallback(this.sdkInternal.getCurrentUser()),null==t?void 0:t.group_name,null==t?void 0:t.id_type)},e.prototype.getStickyValue=function(e){var t,n,i=this.getHashedSpecName(e);return null!==(n=null===(t=this.userValues)||void 0===t?void 0:t.sticky_experiments[i])&&void 0!==n?n:this.stickyDeviceExperiments[i]},e.prototype.attemptToSaveStickyValue=function(e,t){if(t&&t.is_user_in_experiment&&t.is_experiment_active){var n,i=this.getHashedSpecName(e);!0===t.is_device_based?this.stickyDeviceExperiments[i]=t:(null===(n=this.userValues)||void 0===n?void 0:n.sticky_experiments)&&(this.userValues.sticky_experiments[i]=t),this.saveStickyValuesToStorage()}},e.prototype.removeStickyValue=function(e){if(0!==Object.keys(null!==(n=null===(t=this.userValues)||void 0===t?void 0:t.sticky_experiments)&&void 0!==n?n:{}).length||0!==Object.keys(null!==(i=this.stickyDeviceExperiments)&&void 0!==i?i:{}).length){var t,n,i,r,o=this.getHashedSpecName(e);null===(r=this.userValues)||void 0===r||delete r.sticky_experiments[o],delete this.stickyDeviceExperiments[o],this.saveStickyValuesToStorage()}},e.prototype.saveStickyValuesToStorage=function(){this.values[this.userCacheKey]=this.userValues,this.setItemToStorage(f.INTERNAL_STORE_KEY,JSON.stringify(this.values)),this.setItemToStorage(f.STICKY_DEVICE_EXPERIMENTS_KEY,JSON.stringify(this.stickyDeviceExperiments))},e.prototype.getGlobalEvaluationDetails=function(){var e,t;return{reason:null!==(e=this.reason)&&void 0!==e?e:r.Uninitialized,time:null!==(t=this.userValues.evaluation_time)&&void 0!==t?t:0}},e.prototype.getEvaluationDetails=function(e,t){var n;return e?{reason:this.reason,time:null!==(n=this.userValues.evaluation_time)&&void 0!==n?n:Date.now()}:{reason:null!=t?t:this.reason==r.Uninitialized?r.Uninitialized:r.Unrecognized,time:Date.now()}},e.prototype.resetUserValues=function(){this.userValues={feature_gates:{},dynamic_configs:{},sticky_experiments:{},layer_configs:{},time:0,evaluation_time:0}},e.prototype.getHashedSpecName=function(e){switch(this.userValues.hash_used){case"djb2":return(0,h.djb2Hash)(e);case"none":return e;default:return(0,h.sha256Hash)(e)}},e.prototype.convertAPIDataToCacheValues=function(e,t){var n,i;return{feature_gates:e.feature_gates,layer_configs:e.layer_configs,dynamic_configs:e.dynamic_configs,sticky_experiments:null!==(i=null===(n=this.values[t])||void 0===n?void 0:n.sticky_experiments)&&void 0!==i?i:{},time:null==e.time||isNaN(e.time)?0:e.time,evaluation_time:Date.now(),hash_used:e.hash_used}},e.prototype.setItemToStorage=function(e,t){var n=this;p.default.asyncStorage?p.default.setItemAsync(e,t).catch(function(e){n.sdkInternal.getErrorBoundary().logError("setItemToStorage",e)}):g.default.setItem(e,t)},e.prototype.makeOnConfigDefaultValueFallback=function(e){var t=this;return function(n,i,r,o){t.isLoaded()&&t.sdkInternal.getLogger().logConfigDefaultValueFallback(e,"Parameter ".concat(i," is a value of type ").concat(o,".\n          Returning requested defaultValue type ").concat(r),{name:n.getName(),ruleID:n.getRuleID(),parameter:i,defaultValueType:r,valueType:o})}},e}();function y(e,t){var n,i,r;(null!==(n=e.deleted_configs)&&void 0!==n?n:[]).forEach(function(e){delete t.dynamic_configs[e]}),(null!==(i=e.deleted_gates)&&void 0!==i?i:[]).forEach(function(e){delete t.feature_gates[e]}),(null!==(r=e.deleted_layers)&&void 0!==r?r:[]).forEach(function(e){delete t.layer_configs[e]})}t.default=v},48406:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigAsyncStorage=t.EvaluationReason=t.StatsigClient=t.Layer=t.DynamicConfig=void 0;var a=n(51164),s=o(n(64823)),u=o(n(5602)),l=n(142),c=o(n(92215)),d=o(n(3119)),f=o(n(79737)),h=n(10331);Object.defineProperty(t,"DynamicConfig",{enumerable:!0,get:function(){return o(h).default}});var p=n(77421);Object.defineProperty(t,"Layer",{enumerable:!0,get:function(){return o(p).default}});var g=n(64823);Object.defineProperty(t,"StatsigClient",{enumerable:!0,get:function(){return o(g).default}});var v=n(142);Object.defineProperty(t,"EvaluationReason",{enumerable:!0,get:function(){return v.EvaluationReason}});var y=n(90950);Object.defineProperty(t,"StatsigAsyncStorage",{enumerable:!0,get:function(){return o(y).default}}),(0,c.default)(),(0,d.default)(),(0,f.default)();var m=function(){function e(){}return Object.defineProperty(e,"encodeIntializeCall",{get:function(){return u.default.encodeInitializeCall},set:function(e){u.default.encodeInitializeCall=e},enumerable:!1,configurable:!0}),e.initialize=function(t,n,o){var a;return i(this,void 0,void 0,function(){var i;return r(this,function(r){return i=null!==(a=e.instance)&&void 0!==a?a:new s.default(t,n,o),e.instance||(e.instance=i),[2,i.initializeAsync()]})})},e.prefetchUsers=function(t){return i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,e.getClientX().prefetchUsers(t)];case 1:return[2,n.sent()]}})})},e.setInitializeValues=function(t){e.getClientX().setInitializeValues(t)},e.checkGate=function(t,n){return void 0===n&&(n=!1),e.getClientX().checkGate(t,n)},e.checkGateWithExposureLoggingDisabled=function(t,n){return void 0===n&&(n=!1),e.getClientX().checkGateWithExposureLoggingDisabled(t,n)},e.manuallyLogGateExposure=function(t){e.getClientX().logGateExposure(t)},e.getConfig=function(t,n){return void 0===n&&(n=!1),e.getClientX().getConfig(t,n)},e.getConfigWithExposureLoggingDisabled=function(t,n){return void 0===n&&(n=!1),e.getClientX().getConfigWithExposureLoggingDisabled(t,n)},e.manuallyLogConfigExposure=function(t){e.getClientX().logConfigExposure(t)},e.getExperiment=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),e.getClientX().getExperiment(t,n,i)},e.getExperimentWithExposureLoggingDisabled=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),e.getClientX().getExperimentWithExposureLoggingDisabled(t,n,i)},e.manuallyLogExperimentExposure=function(t,n){void 0===n&&(n=!1),e.getClientX().logExperimentExposure(t,n)},e.getLayer=function(t,n){return void 0===n&&(n=!1),e.getClientX().getLayer(t,n)},e.getLayerWithExposureLoggingDisabled=function(t,n){return void 0===n&&(n=!1),e.getClientX().getLayerWithExposureLoggingDisabled(t,n)},e.manuallyLogLayerParameterExposure=function(t,n,i){void 0===i&&(i=!1),e.getClientX().logLayerParameterExposure(t,n,i)},e.logEvent=function(t,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),e.getClientX().logEvent(t,n,i)},e.updateUser=function(t){return e.getClientX().updateUser(t)},e.updateUserWithValues=function(t,n){return e.getClientX().updateUserWithValues(t,n)},e.shutdown=function(){e.getClientX().shutdown(),e.instance=null},e.overrideGate=function(t,n){e.getClientX().overrideGate(t,n)},e.overrideConfig=function(t,n){e.getClientX().overrideConfig(t,n)},e.overrideLayer=function(t,n){e.getClientX().overrideLayer(t,n)},e.removeGateOverride=function(t){e.getClientX().removeGateOverride(t)},e.removeConfigOverride=function(t){e.getClientX().removeConfigOverride(t)},e.removeLayerOverride=function(t){e.getClientX().removeLayerOverride(t)},e.getAllOverrides=function(){return e.getClientX().getAllOverrides()},e.getStableID=function(){return e.getClientX().getStableID()},e.getEvaluationDetails=function(){var t,n;return null!==(n=null===(t=e.instance)||void 0===t?void 0:t.getEvaluationDetails())&&void 0!==n?n:{reason:l.EvaluationReason.Uninitialized,time:0}},e.removeOverride=function(t){e.getClientX().removeOverride(t)},e.getOverrides=function(){return e.getClientX().getOverrides()},e.initializeCalled=function(){return null!=e.instance&&e.instance.initializeCalled()},e.getClientX=function(){if(!e.instance)throw new a.StatsigUninitializedError;return e.instance},e.instance=null,e}();t.default=m},28605:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0,t.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_encodeBinary:function(e){for(var t,n,i,r,o,a,s,u="",l=0;l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),r=t>>2,o=(3&t)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),u=u+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return u},encodeArrayBuffer:function(e){for(var n="",i=new Uint8Array(e),r=i.byteLength,o=0;o<r;o++)n+=String.fromCharCode(i[o]);return t.Base64._encodeBinary(n)}}},6333:function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.isValid=function(t,n){try{var i=n.evaluated_keys;if(!i||"object"!=typeof i)return!0;var r=this.copyObject(i),o=null==t?null:this.copyObject(t);return e.validate(r,o)&&e.validate(o,r)}catch(e){}return!0},e.validate=function(e,t){if(null==e)return null==t;if(null==t)return!1;for(var n=0,i=Object.entries(e);n<i.length;n++){var r=i[n],o=r[0],a=r[1];if("stableID"!==o){if(typeof a!=typeof t[o])return!1;if("string"==typeof a){if(a!==t[o])return!1}else if("object"==typeof a)return this.validate(a,t[o]);else return!1}}return!0},e.copyObject=function(e){if(null==e)return null;var t={};if((null==e?void 0:e.userID)&&(t.userID=null==e?void 0:e.userID),null==e?void 0:e.customIDs){var i=n({},e.customIDs);delete i.stableID,0!==Object.keys(i).length&&(t.customIDs=i)}return t},e}();t.default=i},4145:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(91391),r=function(){function e(e){this.logLevel=e}return e.prototype.info=function(e){this.logLevel!==i.LogLevel.NONE&&console.log(e)},e.prototype.error=function(e){this.logLevel===i.LogLevel.DEBUG&&console.error(e)},e}();t.default=r},9718:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.STORAGE_PREFIX=t.LOCAL_STORAGE_KEYS=t.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY=t.STATSIG_STABLE_ID_KEY=t.INTERNAL_STORE_KEY=t.STICKY_DEVICE_EXPERIMENTS_KEY=t.OVERRIDES_STORE_KEY=void 0,t.OVERRIDES_STORE_KEY="STATSIG_LOCAL_STORAGE_INTERNAL_STORE_OVERRIDES_V3",t.STICKY_DEVICE_EXPERIMENTS_KEY="STATSIG_LOCAL_STORAGE_STICKY_DEVICE_EXPERIMENTS",t.INTERNAL_STORE_KEY="STATSIG_LOCAL_STORAGE_INTERNAL_STORE_V4",t.STATSIG_STABLE_ID_KEY="STATSIG_LOCAL_STORAGE_STABLE_ID",t.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY="STATSIG_LOCAL_STORAGE_LOGGING_REQUEST",t.LOCAL_STORAGE_KEYS={STATSIG_LOCAL_STORAGE_STABLE_ID:!0,STATSIG_LOCAL_STORAGE_INTERNAL_STORE_V4:!0,STATSIG_LOCAL_STORAGE_STICKY_DEVICE_EXPERIMENTS:!0,STATSIG_LOCAL_STORAGE_INTERNAL_STORE_OVERRIDES_V3:!0,STATSIG_LOCAL_STORAGE_LOGGING_REQUEST:!0},t.STORAGE_PREFIX="STATSIG_LOCAL_STORAGE"},85574:function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticsImpl=void 0;var i=function(){function e(e){var t,n,i,r=this;this.mark={overall:this.selectAction("overall"),intialize:this.selectStep("initialize"),bootstrap:this.selectStep("bootstrap"),error_boundary:function(e){switch(e){case"getConfig":return r.selectAction("get_config");case"getExperiment":return r.selectAction("get_experiment");case"checkGate":return r.selectAction("check_gate");case"getLayer":return r.selectAction("get_layer")}return null}},this.context="initialize",this.defaultMaxMarkers=30,this.maxMarkers={initialize:this.defaultMaxMarkers,config_sync:this.defaultMaxMarkers,event_logging:this.defaultMaxMarkers,error_boundary:this.defaultMaxMarkers},this.markers=null!==(t=e.markers)&&void 0!==t?t:{initialize:[],config_sync:[],event_logging:[],error_boundary:[]},this.disabled=null!==(i=null===(n=e.options)||void 0===n?void 0:n.getDisableDiagnosticsLogging())&&void 0!==i&&i}return e.prototype.setContext=function(e){this.context=e},e.prototype.selectAction=function(e,t){var i=this;return{start:function(r,o){return i.addMarker(n({key:e,step:t,action:"start",timestamp:Date.now()},null!=r?r:{}),o)},end:function(r,o){return i.addMarker(n({key:e,step:t,action:"end",timestamp:Date.now()},null!=r?r:{}),o)}}},e.prototype.selectStep=function(e){return{process:this.selectAction(e,"process"),networkRequest:this.selectAction(e,"network_request")}},e.prototype.addMarker=function(e,t){if(this.disabled)return!1;var n,i=null!=t?t:this.context;return(void 0===this.maxMarkers[i]||!(this.markers[i].length>=(null!==(n=this.maxMarkers[i])&&void 0!==n?n:this.defaultMaxMarkers)))&&(this.markers[i].push(e),!0)},e.prototype.getMarkers=function(e){return this.markers[e]},e.prototype.setMaxMarkers=function(e,t){this.maxMarkers[e]=t},e.prototype.getMarkerCount=function(e){return this.markers[e].length},e.prototype.clearContext=function(e){this.markers[e]=[]},e}();t.DiagnosticsImpl=i;var r=function(){function e(){}return e.initialize=function(e){this.instance=new i(e),this.mark=this.instance.mark,this.disabled=this.instance.disabled,this.getMarkers=this.instance.getMarkers.bind(this.instance),this.getMarkerCount=this.instance.getMarkerCount.bind(this.instance),this.setMaxMarkers=this.instance.setMaxMarkers.bind(this.instance),this.setContext=this.instance.setContext.bind(this.instance),this.clearContext=this.instance.clearContext.bind(this.instance)},e}();t.default=r},53585:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getUserCacheKey=t.sha256Hash=t.djb2Hash=t.userCacheKeyHash=void 0;var i=n(13290),r=n(28605),o={};function a(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}function s(e){return String(a(e))}t.userCacheKeyHash=s,t.djb2Hash=function(e){return String(a(e)>>>0)},t.sha256Hash=function(e){var t=o[e];if(t)return t;var n=i.sha256.create().update(e).arrayBuffer(),a=r.Base64.encodeArrayBuffer(n);return o[e]=a,a},t.getUserCacheKey=function(e){var t,n="userID:".concat(String(null!==(t=null==e?void 0:e.userID)&&void 0!==t?t:"")),i=null==e?void 0:e.customIDs;if(null!=i)for(var r=0,a=Object.entries(i);r<a.length;r++){var u=a[r],l=u[0],c=u[1];n+=";".concat(l,":").concat(c)}var d=o[n];if(d)return d;var f=s(n);return o[n]=f,f}},92215:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,i=Array(n);n--;)i[n]=[t[n],e[t[n]]];return i})}},3119:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){Object.fromEntries||(Object.fromEntries=function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];if(Object(i)!==i)throw TypeError("iterable for fromEntries should yield objects");Object.defineProperty(t,i[0],{configurable:!0,enumerable:!0,writable:!0,value:i[1]})}return t})}},79737:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){Promise.prototype.finally=Promise.prototype.finally||({finally:function(e){var t=function(t){return Promise.resolve(e()).then(t)};return this.then(function(e){return t(function(){return e})},function(e){return t(function(){return Promise.reject(e)})})}}).finally}},90950:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.getItemAsync=function(t){var n;return e.asyncStorage?null!==(n=e.asyncStorage.getItem(t))&&void 0!==n?n:null:Promise.resolve(null)},e.setItemAsync=function(t,n){return e.asyncStorage?e.asyncStorage.setItem(t,n):Promise.resolve()},e.removeItemAsync=function(t){return e.asyncStorage?e.asyncStorage.removeItem(t):Promise.resolve()},e}();t.default=n},69036:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(9718),r=function(){function e(){}return e.getItem=function(e){var t;try{if(this.isStorageAccessible())return window.localStorage.getItem(e)}catch(e){}return null!==(t=this.fallbackSessionCache[e])&&void 0!==t?t:null},e.setItem=function(e,t){try{if(this.isStorageAccessible()){window.localStorage.setItem(e,t);return}}catch(e){}this.fallbackSessionCache[e]=t},e.removeItem=function(e){try{if(this.isStorageAccessible()){window.localStorage.removeItem(e);return}}catch(e){}delete this.fallbackSessionCache[e]},e.cleanup=function(){try{if(this.isStorageAccessible(!0))for(var e in window.localStorage)"string"!=typeof window.localStorage[e]||null==e||!this.disabled&&e in i.LOCAL_STORAGE_KEYS||!this.disabled&&e.substring(0,i.STORAGE_PREFIX.length)!==i.STORAGE_PREFIX||window.localStorage.removeItem(e)}catch(e){}},e.isStorageAccessible=function(e){void 0===e&&(e=!1),null==this.canAccessStorageAccessible&&(this.canAccessStorageAccessible="undefined"!=typeof Storage&&"undefined"!=typeof window&&null!=window&&null!=window.localStorage);var t=this.canAccessStorageAccessible;return e?t:!this.disabled&&t},e.disabled=!1,e.fallbackSessionCache={},e.canAccessStorageAccessible=null,e}();t.default=r},89977:function(e,t){function n(){return"undefined"!=typeof performance&&performance?0|performance.now():Date.now()}Object.defineProperty(t,"__esModule",{value:!0}),t.difference=t.now=void 0,t.now=n,t.difference=function(e){return n()-e}},23720:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="1.30.1"},38394:function(e,t,n){var i=n(44675),r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(48406),u=n(23938),l=n(23720),c=function(){var e;function t(t,n,i){if(null!=e.instance&&e.canThrow())throw Error("Cannot create another instance of the static Statsig class");e.instance=new s.StatsigClient(t,n,i)}return e=t,t.initialize=function(t,n,i){return o(this,void 0,void 0,function(){return a(this,function(r){try{return e.instance||(e.instance=new s.StatsigClient(t,n,i),e.instance.setSDKPackageInfo(this.sdkPackageInfo),e.instance.setAppState(this.appState),e.instance.setNativeModules(this.nativeModules),e.instance.setPlatform(this.platform),e.instance.setRNDeviceInfo(this.deviceInfo),e.instance.setExpoConstants(this.expoConstants),e.instance.setExpoDevice(this.expoDevice),e.instance.setOnCacheLoadedReactCallback(this.onCacheLoadedCallback)),[2,e.instance.initializeAsync()]}catch(t){if(e.canThrow())throw t}return[2,Promise.resolve()]})})},t.bootstrap=function(t,n,i,r){if(null!=e.instance){e.setInitializeValues(n);return}null==r&&(r={}),r.initializeValues=n,e.instance=new s.StatsigClient(t,i,r),e.instance.setSDKPackageInfo({sdkType:"react-client",sdkVersion:l.version})},t.prefetchUsers=function(t){return o(this,void 0,void 0,function(){return a(this,function(n){return this.isInitialized()?[2,e.instance.prefetchUsers(t)]:[2]})})},t.setInitializeValues=function(t){this.isInitialized()&&e.instance.setInitializeValues(t)},t.getCurrentUser=function(){return this.isInitialized()?e.instance.getCurrentUser():null},t.checkGate=function(t,n){return void 0===n&&(n=!1),!!this.isInitialized()&&e.instance.checkGate(t,n)},t.checkGateWithExposureLoggingDisabled=function(t,n){return!!this.isInitialized()&&e.instance.checkGateWithExposureLoggingDisabled(t,null==n?void 0:n.ignoreOverrides)},t.manuallyLogGateExposure=function(t){this.isInitialized()&&e.instance.logGateExposure(t)},t.getConfig=function(t,n){return(void 0===n&&(n=!1),this.isInitialized())?e.instance.getConfig(t,n):new s.DynamicConfig(t,{},"",{time:Date.now(),reason:s.EvaluationReason.Uninitialized})},t.getConfigWithExposureLoggingDisabled=function(t,n){return this.isInitialized()?e.instance.getConfigWithExposureLoggingDisabled(t,null==n?void 0:n.ignoreOverrides):new s.DynamicConfig(t,{},"",{time:Date.now(),reason:s.EvaluationReason.Uninitialized})},t.manuallyLogConfigExposure=function(t){this.isInitialized()&&e.instance.logConfigExposure(t)},t.getExperiment=function(t,n,i){return(void 0===n&&(n=!1),void 0===i&&(i=!1),this.isInitialized())?e.instance.getExperiment(t,n,i):new s.DynamicConfig(t,{},"",{time:Date.now(),reason:s.EvaluationReason.Uninitialized})},t.getExperimentWithExposureLoggingDisabled=function(t,n){return this.isInitialized()?e.instance.getExperimentWithExposureLoggingDisabled(t,null==n?void 0:n.keepDeviceValue,null==n?void 0:n.ignoreOverrides):new s.DynamicConfig(t,{},"",{time:Date.now(),reason:s.EvaluationReason.Uninitialized})},t.manuallyLogExperimentExposure=function(t,n){this.isInitialized()&&e.instance.logExperimentExposure(t,n)},t.getLayer=function(t,n){return(void 0===n&&(n=!1),this.isInitialized())?e.instance.getLayer(t,n):s.Layer._create(t,{},"",{time:Date.now(),reason:s.EvaluationReason.Uninitialized})},t.getLayerWithExposureLoggingDisabled=function(t,n){return this.isInitialized()?e.instance.getLayerWithExposureLoggingDisabled(t,null==n?void 0:n.keepDeviceValue):s.Layer._create(t,{},"",{time:Date.now(),reason:s.EvaluationReason.Uninitialized})},t.manuallyLogLayerParameterExposure=function(t,n,i){void 0===i&&(i=!1),this.isInitialized()&&e.instance.logLayerParameterExposure(t,n,i)},t.logEvent=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=null),this.isInitialized()&&e.instance.logEvent(t,n,i)},t.updateUser=function(t){return this.isInitialized()?e.instance.updateUser(t):Promise.resolve(!1)},t.updateUserWithValues=function(t,n){return!!this.isInitialized()&&e.instance.updateUserWithValues(t,n)},t.shutdown=function(){this.isInitialized()&&e.instance.shutdown()},t.overrideGate=function(t,n){var i;this.isInitialized()&&(null===(i=e.getAllOverrides().gates)||void 0===i?void 0:i[t])!==n&&(e.instance.overrideGate(t,n),e.updateContext())},t.overrideConfig=function(t,n){var i;this.isInitialized()&&(null===(i=e.getAllOverrides().configs)||void 0===i?void 0:i[t])!==n&&(e.instance.overrideConfig(t,n),e.updateContext())},t.overrideLayer=function(t,n){var i;this.isInitialized()&&(null===(i=e.getAllOverrides().layers)||void 0===i?void 0:i[t])!==n&&(e.instance.overrideLayer(t,n),e.updateContext())},t.removeGateOverride=function(t){this.isInitialized()&&(e.instance.removeGateOverride(t),e.updateContext())},t.removeConfigOverride=function(t){this.isInitialized()&&(e.instance.removeConfigOverride(t),e.updateContext())},t.removeLayerOverride=function(t){this.isInitialized()&&(e.instance.removeLayerOverride(t),e.updateContext())},t.getAllOverrides=function(){return this.isInitialized()?e.instance.getAllOverrides():{gates:{},configs:{},layers:{}}},t.getEvaluationDetails=function(){var t,n;return null!==(n=null===(t=e.instance)||void 0===t?void 0:t.getEvaluationDetails())&&void 0!==n?n:{reason:s.EvaluationReason.Uninitialized,time:0}},t.getStableID=function(){return this.isInitialized()?e.instance.getStableID():""},t.initializeCalled=function(){return null!=e.instance&&e.instance.initializeCalled()},t.setSDKPackageInfo=function(t){e.sdkPackageInfo=t},t.setReactNativeUUID=function(e){null!=e&&s.StatsigClient.setReactNativeUUID(e)},t.setAsyncStorage=function(e){null!=e&&(s.StatsigAsyncStorage.asyncStorage=e)},t.setAppState=function(t){null!=t&&(e.appState=t)},t.setNativeModules=function(t){null!=t&&(e.nativeModules=t)},t.setPlatform=function(t){null!=t&&(e.platform=t)},t.setRNDeviceInfo=function(t){null!=t&&(e.deviceInfo=t)},t.setExpoConstants=function(t){null!=t&&(e.expoConstants=t)},t.setExpoDevice=function(t){null!=t&&(e.expoDevice=t)},t.setReactContextUpdater=function(t){e.reactContextUpdater=t},t.setOnCacheLoadedCallback=function(t){e.onCacheLoadedCallback=t},t.isInitialized=function(){if(e.instance)return!0;if(e.canThrow())throw Error("Call and wait for initialize() to finish first.");return!1},t.updateContext=function(){null!=e.reactContextUpdater&&e.reactContextUpdater()},t.canThrow=function(){var e;return void 0===i||void 0===i.env||(null===(e=null==i?void 0:i.env)||void 0===e?void 0:e.REACT_APP_STATSIG_SDK_MODE)!=="silent"},t.reactContextUpdater=null,t=e=r([(0,u.staticImplements)()],t)}();t.default=c},40663:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(70079));t.default=r.default.createContext({initialized:!1,statsigPromise:null,userVersion:0,initStarted:!1,updateUser:function(){}})},85834:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useLayerImpl=t.useExperimentImpl=t.useConfigImpl=t.useGateImpl=void 0;var r=n(70079),o=n(48406),a=i(n(40663)),s=i(n(38394));t.useGateImpl=function(e,t,n){void 0===n&&(n=!1);var i=(0,r.useContext)(a.default),o=i.initialized,u=i.userVersion,l=i.initStarted,c=(0,r.useMemo)(function(){return!!l&&(n?s.default.checkGateWithExposureLoggingDisabled(e,t):s.default.checkGate(e,null==t?void 0:t.ignoreOverrides))},[o,l,e,u,t,n]);return{isLoading:!o,value:c}},t.useConfigImpl=function(e,t,n){void 0===n&&(n=!1);var i=(0,r.useContext)(a.default),u=i.initialized,l=i.initStarted,c=i.userVersion,d=(0,r.useMemo)(function(){return l?n?s.default.getConfigWithExposureLoggingDisabled(e,t):s.default.getConfig(e,null==t?void 0:t.ignoreOverrides):new o.DynamicConfig(e,{},"",{time:Date.now(),reason:o.EvaluationReason.Uninitialized})},[u,l,e,c,t,n]);return{isLoading:!u,config:d}},t.useExperimentImpl=function(e,t,n){void 0===n&&(n=!1);var i=(0,r.useContext)(a.default),u=i.initialized,l=i.initStarted,c=i.userVersion,d=(0,r.useMemo)(function(){return l?n?s.default.getExperimentWithExposureLoggingDisabled(e,t):s.default.getExperiment(e,null==t?void 0:t.keepDeviceValue,null==t?void 0:t.ignoreOverrides):new o.DynamicConfig(e,{},"",{time:Date.now(),reason:o.EvaluationReason.Uninitialized})},[u,l,e,c,t,n]);return{isLoading:!u,config:d}},t.useLayerImpl=function(e,t,n){void 0===n&&(n=!1);var i=(0,r.useContext)(a.default),u=i.initialized,l=i.initStarted,c=i.userVersion,d=(0,r.useMemo)(function(){return l?n?s.default.getLayerWithExposureLoggingDisabled(e,t):s.default.getLayer(e,null==t?void 0:t.keepDeviceValue):o.Layer._create(e,{},"",{time:Date.now(),reason:o.EvaluationReason.Uninitialized})},[u,l,e,c,t,n]);return{isLoading:!u,layer:d}}},4328:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(70079)),u=a(n(40663)),l=a(n(48406)),c=a(n(38394)),d=n(23720);t.default=function(e){var t,n,i,r,o=e.children,a=e.sdkKey,f=e.user,h=e.setUser,p=e.options,g=e.waitForCache,v=e.waitForInitialization,y=e.initializingComponent,m=e.mountKey,_=e.shutdownOnUnmount,E=void 0!==_&&_,S=e._reactNativeDependencies,b=!!S,I=(0,s.useState)(!1),w=I[0],C=I[1],L=(0,s.useState)(!1),D=L[0],k=L[1],O=(0,s.useRef)(null),x=(0,s.useState)(0),T=x[0],M=x[1],A=(0,s.useRef)(new Promise(function(e){O.current=e})),U=(0,s.useMemo)(function(){return f},[JSON.stringify(f)]),P=(i=null!=m?m:null,r=(0,s.useRef)(null),(0,s.useEffect)(function(){r.current=i},[i]),r.current);(0,s.useEffect)(function(){if(c.default.initializeCalled()){A.current=new Promise(function(e){O.current=e});var e=void 0===m||P!==m;e&&(k(!1),C(!1)),c.default.updateUser(f).then(function(){O.current&&O.current(),M(function(e){return e+1}),e&&(k(!0),C(!0))});return}c.default.setSDKPackageInfo({sdkType:"react-client",sdkVersion:d.version}),b&&(c.default.setSDKPackageInfo(S.SDKPackageInfo),c.default.setAppState(S.AppState),c.default.setAsyncStorage(S.AsyncStorage),c.default.setNativeModules(S.NativeModules),c.default.setPlatform(S.Platform),c.default.setRNDeviceInfo(S.RNDevice),c.default.setReactNativeUUID(S.ReactNativeUUID),c.default.setExpoConstants(S.Constants),c.default.setExpoDevice(S.ExpoDevice)),c.default.setOnCacheLoadedCallback(function(){C(!0)}),c.default.initialize(a,U,p).then(function(){k(!0),O.current&&O.current()}),"undefined"!=typeof window&&(window.__STATSIG_SDK__=c.default,window.__STATSIG_JS_SDK__=l.default,window.__STATSIG_RERENDER_OVERRIDE__=function(){M(T+1)})},[U]),(0,s.useEffect)(function(){return c.default.setReactContextUpdater(function(){return M(function(e){return e+1})}),function(){E&&c.default.shutdown(),c.default.setReactContextUpdater(null)}},[]);var N=(t=!0===g,n=!0===v,D||!0!==n&&!0!==t||t&&w||n&&D?o:(n||t)&&null!=y?y:null),R=(0,s.useMemo)(function(){return{initialized:D,statsigPromise:A,userVersion:T,initStarted:c.default.initializeCalled(),updateUser:null!=h?h:function(){}}},[D,A,T,c.default.initializeCalled(),h]);return s.default.createElement(u.default.Provider,{value:R},N)}},23938:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticImplements=void 0,t.staticImplements=function(){return function(e){}}},87178:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(70079)),u=a(n(40663)),l=a(n(48406)),c=a(n(38394));t.default=function(e){var t=e.children,n=e.sdkKey,i=e.user,r=e.options,o=e.initializeValues,a=e.setUser,d=e.shutdownOnUnmount,f=(0,s.useState)(0),h=f[0],p=f[1],g=(0,s.useState)(!0),v=g[0],y=g[1],m=(0,s.useRef)(!0),_=(0,s.useMemo)(function(){return i},[JSON.stringify(i)]);(0,s.useMemo)(function(){return c.default.bootstrap(n,o,_,r),o},[JSON.stringify(o)]),(0,s.useEffect)(function(){if(m.current){m.current=!1,"undefined"!=typeof window&&(window.__STATSIG_SDK__=c.default,window.__STATSIG_JS_SDK__=l.default,window.__STATSIG_RERENDER_OVERRIDE__=function(){p(h+1)});return}y(!1),c.default.updateUser(i).then(function(){p(h+1),y(!0)})},[_]),(0,s.useEffect)(function(){return c.default.setReactContextUpdater(function(){return p(function(e){return e+1})}),function(){d&&c.default.shutdown(),c.default.setReactContextUpdater(null)}},[]);var E=(0,s.useMemo)(function(){return{initialized:v,statsigPromise:null,userVersion:h,initStarted:c.default.initializeCalled(),updateUser:null!=a?a:function(){}}},[v,h,c.default.initializeCalled(),a]);return s.default.createElement(u.default.Provider,{value:E},t)}},73389:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigSynchronousProvider=t.Layer=t.staticImplements=t.DynamicConfig=t.useUpdateUser=t.useStatsigLogEffect=t.useGateWithExposureLoggingDisabled=t.useGate=t.usePrefetchUsers=t.useLayerWithExposureLoggingDisabled=t.useLayer=t.useExperimentWithExposureLoggingDisabled=t.useExperiment=t.useConfigWithExposureLoggingDisabled=t.useConfig=t.StatsigProvider=t.StatsigContext=t.Statsig=void 0;var r=n(48406);Object.defineProperty(t,"DynamicConfig",{enumerable:!0,get:function(){return r.DynamicConfig}}),Object.defineProperty(t,"Layer",{enumerable:!0,get:function(){return r.Layer}});var o=i(n(38394));t.Statsig=o.default;var a=i(n(40663));t.StatsigContext=a.default;var s=i(n(4328));t.StatsigProvider=s.default;var u=n(23938);Object.defineProperty(t,"staticImplements",{enumerable:!0,get:function(){return u.staticImplements}});var l=i(n(13383));t.useConfig=l.default;var c=i(n(95519));t.useExperiment=c.default;var d=i(n(78624));t.useGate=d.default;var f=i(n(98484));t.useLayer=f.default;var h=i(n(52180));t.usePrefetchUsers=h.default;var p=i(n(88642));t.useStatsigLogEffect=p.default;var g=i(n(87178));t.StatsigSynchronousProvider=g.default;var v=i(n(5609));t.useConfigWithExposureLoggingDisabled=v.default;var y=i(n(6910));t.useGateWithExposureLoggingDisabled=y.default;var m=i(n(82259));t.useExperimentWithExposureLoggingDisabled=m.default;var _=i(n(97815));t.useLayerWithExposureLoggingDisabled=_.default;var E=i(n(87275));t.useUpdateUser=E.default},13383:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(85834);t.default=function(e,t){return(0,i.useConfigImpl)(e,{ignoreOverrides:t})}},5609:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(85834);t.default=function(e,t){return(0,i.useConfigImpl)(e,t,!0)}},95519:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(85834);t.default=function(e,t,n){return void 0===t&&(t=!1),(0,i.useExperimentImpl)(e,{keepDeviceValue:t,ignoreOverrides:n})}},82259:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(85834);t.default=function(e,t){return(0,i.useExperimentImpl)(e,t,!0)}},78624:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(85834);t.default=function(e,t){return(0,i.useGateImpl)(e,{ignoreOverrides:t})}},6910:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(85834);t.default=function(e,t){return(0,i.useGateImpl)(e,t,!0)}},98484:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(85834);t.default=function(e,t){return void 0===t&&(t=!1),(0,i.useLayerImpl)(e,{keepDeviceValue:t})}},97815:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(85834);t.default=function(e,t){return(0,i.useLayerImpl)(e,t,!0)}},52180:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(70079),o=i(n(38394)),a=i(n(40663));t.default=function(e){var t=(0,r.useContext)(a.default).initStarted;(0,r.useEffect)(function(){t&&0!=e.length&&o.default.prefetchUsers(e).catch(function(){})},[t,e])}},88642:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(70079),o=i(n(38394)),a=i(n(40663));t.default=function(e,t,n){var i=(0,r.useContext)(a.default).initStarted;(0,r.useEffect)(function(){i&&o.default.logEvent(e,t,n)},[i])}},87275:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(70079),o=i(n(40663));t.default=function(){return(0,r.useContext)(o.default).updateUser}}}]);